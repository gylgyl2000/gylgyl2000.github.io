---
id: freeCodeCamp-React-fr
title: React
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';


## Introduction aux défis React

[React | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/)

[React](https://fr.reactjs.org/), créé par Facebook, est une bibliothèque JavaScript open-source pour la création d'interfaces utilisateur. Il est utilisé pour créer des composants, gérer l'état et les accessoires, utiliser des écouteurs d'événements et certaines méthodes de cycle de vie pour mettre à jour les données à mesure qu'elles changent.<br />
React combine HTML et fonctionnalités JavaScript pour créer son propre langage de balisage, JSX. Cette section vous présentera tous ces concepts et comment les implémenter pour une utilisation avec vos propres projets.

-----



## 1. Créer un élément JSX simple

[Learn React: Create a Simple JSX Element | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/create-a-simple-jsx-element)

**Intro :** React est une bibliothèque de vues Open Source créée et maintenue par Facebook. C'est un excellent outil pour rendre l'interface utilisateur (UI) des applications Web modernes.

React utilise une extension de syntaxe de JavaScript appelée JSX qui vous permet d'écrire du HTML directement dans JavaScript. Cela présente plusieurs avantages. Il vous permet d'utiliser toute la puissance programmatique de JavaScript dans HTML et vous aide à garder votre code lisible. Pour la plupart, JSX est similaire au HTML que vous avez déjà appris, mais il existe quelques différences clés qui seront couvertes tout au long de ces défis.

Par exemple, comme JSX est une extension syntaxique de JavaScript, vous pouvez en fait écrire du JavaScript directement dans JSX. Pour ce faire, il vous suffit d'inclure le code que vous souhaitez traiter comme JavaScript entre accolades : `{ 'this is treated as JavaScript code' }`. Gardez cela à l'esprit, car il est utilisé dans plusieurs défis futurs.

Cependant, comme JSX n'est pas un JavaScript valide, le code JSX doit être compilé en JavaScript. Le transpilateur Babel est un outil populaire pour ce processus. Pour votre commodité, il est déjà ajouté dans les coulisses de ces défis. Si vous écrivez un JSX syntaxiquement non valide, vous verrez le premier test de ces défis échouer.

Il convient de noter que sous le capot, les défis sont l'appel de `ReactDOM.render(JSX, document.getElementById('root'))`. Cet appel de fonction est ce qui place votre JSX dans la représentation légère du DOM par React. React utilise ensuite des instantanés de son propre DOM pour optimiser la mise à jour uniquement de parties spécifiques du DOM réel.

:::info instructions
**Instructions :** Le code actuel utilise JSX pour affecter un élément `div` à la constante `JSX`. Remplacez le `div` par un élément `h1` et ajoutez le texte `Hello JSX!` à l'intérieur.


<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
const JSX = <div></div>;
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-01a.html"></iframe>

</div></nav>

:::

:::tip missions
- La constante `JSX` doit renvoyer un élément `h1`.
- La balise `h1` doit inclure le texte `Hello JSX!`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
const JSX = <h1>Hello JSX!</h1>;
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-01b.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-create-a-simple-jsx-element/301390)

-----



## 2. Créer un élément JSX complexe

[Learn React: Create a Complex JSX Element | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/create-a-complex-jsx-element)

Le dernier défi était un simple exemple de JSX, mais JSX peut également représenter du HTML plus complexe.<br />
Une chose importante à savoir à propos de JSX imbriqué est qu'il doit renvoyer un seul élément.<br />
Cet élément parent engloberait tous les autres niveaux d'éléments imbriqués.<br />
Par exemple, plusieurs éléments JSX écrits en tant qu'enfant de mêmes parents sans élément parent enveloppeur ne seront pas transpilés.<br />
Voici un exemple :

```jsx title="JSX valide"
<div>
  <p>Paragraph One</p>
  <p>Paragraph Two</p>
  <p>Paragraph Three</p>
</div>
````

```jsx title="JSX non valide"
<p>Paragraph One</p>
<p>Paragraph Two</p>
<p>Paragraph Three</p>
```

:::info instructions
Définissez une nouvelle constante `JSX` qui restitue un `div` contenant les éléments suivants dans l'ordre : un `h1`, un `p` et une liste non ordonnée contenant trois éléments `li`.<br />
Vous pouvez inclure le texte de votre choix dans chaque élément.<br />
**Remarque :** lors du rendu de plusieurs éléments comme celui-ci, vous pouvez tous les mettre entre parenthèses, mais ce n'est pas strictement obligatoire. Notez également que ce défi utilise une balise `div` pour envelopper tous les éléments enfants dans un seul élément parent. Si vous supprimez le `div`, le JSX ne se transpilera plus. Gardez cela à l'esprit, car cela s'appliquera également lorsque vous renvoyez des éléments JSX dans les composants React.
:::

:::tip missions
- La constante `JSX` doit renvoyer un élément `div`.
- Le `div` doit contenir une balise `h1` comme premier élément.
- Le `div` doit contenir une balise `p` comme deuxième élément.
- Le `div` doit contenir une balise `ul` comme troisième élément.
- L'`ul` doit contenir trois éléments `li`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
const JSX = <div>
  <h1>Animaux</h1>
  <p>Mammifères</p>
 <ul>
  <li>Chat</li>
  <li>Chien</li>
  <li>Cheval</li>
</ul>
</div>; 
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-02a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-create-a-complex-jsx-element/301382)

-----



## 3. Ajouter des commentaires dans JSX

[Learn React: Add Comments in JSX | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/add-comments-in-jsx)

JSX est une syntaxe qui est compilée en JavaScript valide. Parfois, pour plus de lisibilité, vous devrez peut-être ajouter des commentaires à votre code. Comme la plupart des langages de programmation, JSX a sa propre façon de faire cela.<br />
Pour placer des commentaires dans JSX, vous utilisez la syntaxe `{/* */}` pour envelopper le texte du commentaire.

:::info instructions
L'éditeur de code a un élément JSX similaire à ce que vous avez créé lors du dernier défi. Ajoutez un commentaire quelque part dans l'élément `div` fourni, sans modifier les éléments `h1` ou `p` existants.
:::

:::tip missions
- La constante `JSX` doit renvoyer un élément `div`.
- Le `div` doit contenir une balise `h1` comme premier élément.
- Le `div` doit contenir une balise `p` comme deuxième élément.
- Les éléments `h1` et `p` existants ne doivent pas être modifiés.
- Le `JSX` doit utiliser une syntaxe de commentaire valide.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
const JSX = (
  <div>
  {/* A big comment */}
    <h1>This is a block of JSX</h1>
    <p>Here's a subtitle</p>
  </div>
);
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-03a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-add-comments-in-jsx/301376)

-----



## 4. Rendre les éléments HTML dans le DOM

[Learn React: Render HTML Elements to the DOM | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/render-html-elements-to-the-dom)

Jusqu'à présent, vous avez appris que JSX est un outil pratique pour écrire du HTML lisible dans JavaScript. Avec React, nous pouvons rendre ce JSX directement dans le DOM HTML en utilisant l'API de rendu de React connue sous le nom de ReactDOM.<br />
ReactDOM propose une méthode simple pour rendre les éléments React dans le DOM qui ressemble à ceci : `ReactDOM.render(componentToRender, targetNode)`, où le premier argument est l'élément ou le composant React que vous voulez rendre, et le deuxième argument est le nœud DOM dans lequel vous souhaitez rendre le composant.<br />
Comme vous vous en doutez, `ReactDOM.render()` doit être appelé après les déclarations d'élément JSX, tout comme vous devez déclarer des variables avant de les utiliser.

:::info instructions
L'éditeur de code a un composant JSX simple. Utilisez la méthode `ReactDOM.render()` pour rendre ce composant sur la page. Vous pouvez passer directement des éléments JSX définis comme premier argument et utiliser `document.getElementById()` pour sélectionner le nœud DOM vers lequel les rendre. Il y a un `div` avec `id='challenge-node'` à votre disposition. Assurez-vous de ne pas modifier la constante `JSX`.
:::

:::tip missions
- La constante `JSX` doit renvoyer un élément `div`.
- Le `div` doit contenir une balise `h1` comme premier élément.
- Le `div` doit contenir une balise `p` comme deuxième élément.
- L'élément `JSX` fourni doit être rendu sur le nœud DOM avec l'ID `challenge-node`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
const JSX = (
  <div>
    <h1>Hello World</h1>
    <p>Lets render this to the DOM</p>
  </div>
);

ReactDOM.render(JSX, document.getElementById('challenge-node'));
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-04a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-render-html-elements-to-the-dom/301406)

-----



## 5. Définir une classe HTML dans JSX

[Learn React: Define an HTML Class in JSX | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/define-an-html-class-in-jsx)

Maintenant que vous vous familiarisez avec l'écriture de JSX, vous vous demandez peut-être en quoi il diffère du HTML.<br />
Jusqu'à présent, il peut sembler que HTML et JSX sont exactement les mêmes.<br />
Une différence clé dans JSX est que vous ne pouvez plus utiliser le mot `class` pour définir des classes HTML. En effet, `class` est un mot réservé en JavaScript. Au lieu de cela, JSX utilise `className`.<br />
En fait, la convention de dénomination de tous les attributs HTML et références d'événement dans JSX devient **camelCase**. Par exemple, un événement de clic dans JSX est `onClick`, au lieu de `onclick`. De même, `onchange` devient `onChange`. Bien que ce soit une différence subtile, il est important de garder à l'esprit pour aller de l'avant.
:::info instructions
Appliquez une classe de `myDiv` au `div` fourni dans le code JSX.
:::

:::tip missions
- La constante `JSX` doit renvoyer un élément `div`.
Le `div` doit avoir une classe `myDiv`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
const JSX = (
  <div className="myDiv">
    <h1>Add a class to this div</h1>
  </div>
);
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-05a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-define-an-html-class-in-jsx/301393)

-----



## 6. En savoir plus sur les balises JSX à fermeture automatique

[Learn React: Learn About Self-Closing JSX Tags | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/learn-about-self-closing-jsx-tags)

Jusqu'à présent, vous avez vu en quoi JSX diffère du HTML de manière essentielle avec l'utilisation de `className` par rapport à la `class` pour définir des classes HTML.<br />
Un autre moyen important par lequel JSX diffère du HTML est l'idée de la balise à fermeture automatique.<br />
En HTML, presque toutes les balises ont à la fois une balise d'ouverture et de fermeture : `<div></div>`; la balise de fermeture a toujours une barre oblique avant le nom de la balise que vous fermez. Cependant, il existe des instances spéciales en HTML appelées “self-closing tags” (balises à fermeture automatique), ou des balises qui ne nécessitent pas à la fois une balise d'ouverture et de fermeture avant qu'une autre balise puisse commencer.<br />
Par exemple, la balise de saut de ligne peut être écrite comme `<br>` ou comme `<br />`, mais ne devrait jamais être écrite comme `<br></br>`, car elle ne contient aucun contenu.<br />
Dans JSX, les règles sont un peu différentes. Tout élément JSX peut être écrit avec une balise à fermeture automatique et chaque élément doit être fermé. La balise de saut de ligne, par exemple, doit toujours être écrite sous la forme `<br />` pour être un JSX valide pouvant être transpilé. Un `div`, par contre, peut être écrit sous la forme `<div />` ou `<div></div>`. La différence est que dans la première version de syntaxe, il n'y a aucun moyen d'inclure quoi que ce soit dans le `<div />`. Vous verrez dans les défis ultérieurs que cette syntaxe est utile lors du rendu des composants React.

:::info instructions
Corrigez les erreurs dans l'éditeur de code afin qu'il soit valide JSX et transpile avec succès. Assurez-vous de ne modifier aucun contenu - il vous suffit de fermer les balises là où elles sont nécessaires.

```jsx title="jsx"
const JSX = (
  <div>
    <h2>Welcome to React!</h2> <br >
    <p>Be sure to close all tags!</p>
    <hr >
  </div>
);
```

:::

:::tip missions
- La constante `JSX` doit renvoyer un élément `div`.
- Le `div` doit contenir une balise `br`.
- Le `div` doit contenir une balise `hr`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
const JSX = (
  <div>
    <h2>Welcome to React!</h2> <br />
    <p>Be sure to close all tags!</p>
    <hr />
  </div>
);
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-06a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-learn-about-self-closing-jsx-tags/301396)

-----



## 7. Créer un composant fonctionnel sans état

[Learn React: Create a Stateless Functional Component | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/create-a-stateless-functional-component)

Les composants sont au cœur de React. Tout dans React est un composant et vous apprendrez ici à en créer un.<br />
Il existe deux façons de créer un composant React. La première consiste à utiliser une fonction JavaScript. La définition d'un composant de cette manière crée un *composant fonctionnel sans état*. Le concept d'État dans une application sera abordé dans les défis ultérieurs. Pour l'instant, considérez un composant sans état comme un composant qui peut recevoir des données et les rendre, mais qui ne gère ni ne suit les modifications apportées à ces données. (Nous aborderons la deuxième façon de créer un composant React dans le prochain défi.)<br />
Pour créer un composant avec une fonction, il vous suffit d'écrire une fonction JavaScript qui renvoie JSX ou `null`. Une chose importante à noter est que React exige que le nom de votre fonction commence par une majuscule. Voici un exemple de composant fonctionnel sans état qui attribue une classe HTML dans JSX :

```jsx
// Après avoir été transpilé, le div aura une classe CSS de 'customClass'
const DemoComponent = function() {
  return (
    <div className='customClass' />
  );
};
```

Étant donné qu'un composant JSX représente du HTML, vous pouvez associer plusieurs composants pour créer une page HTML plus complexe. C'est l'un des principaux avantages de l'architecture des composants fournie par React. Il vous permet de composer votre interface utilisateur à partir de nombreux composants séparés et isolés. Cela facilite la création et la maintenance d'interfaces utilisateur complexes.
:::info instructions
L'éditeur de code a une fonction appelée `MyComponent`. Complétez cette fonction pour qu'elle retourne un seul élément `div` contenant une chaîne de texte.<br />
**Remarque :** le texte est considéré comme un enfant de l'élément `div`, vous ne pourrez donc pas utiliser de balise à fermeture automatique.
:::

:::tip missions
- `MyComponent` doit renvoyer `JSX`.
- `MyComponent` doit renvoyer un élément `div`.
- L'élément `div` doit contenir une chaîne de texte.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
const MyComponent = function() {
  return (
    <div>Hello JSX!</div>
  )
};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-07a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-create-a-stateless-functional-component/301392)

-----



## 8. Créer un composant React

[Learn React: Create a React Component | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/create-a-react-component)

L'autre façon de définir un composant React consiste à utiliser la syntaxe ES6 `class`. Dans l'exemple suivant, `Kitten` étend `React.Component` :

```jsx
class Kitten extends React.Component {
  constructor(props) {
    super(props);
  }

  render() {
    return (
      <h1>Hi</h1>
    );
  }
}
```

Cela crée une classe ES6 `Kitten` qui étend la classe `React.Component`. Ainsi, la classe `Kitten` a désormais accès à de nombreuses fonctionnalités utiles de React, telles que l'état local et les hooks de cycle de vie. Ne vous inquiétez pas si vous ne connaissez pas encore ces termes, ils seront abordés plus en détail dans les prochains défis. Notez également que la classe `Kitten` a un `constructor` défini en son sein qui appelle `super()`. Il utilise `super()` pour appeler le constructeur de la classe parent, dans ce cas `React.Component`. Le constructeur est une méthode spéciale utilisée lors de l'initialisation des objets créés avec le mot-clé `class`. Il est recommandé d'appeler le `constructor` d'un composant avec `super` et de transmettre `props` aux deux. Cela garantit que le composant est correctement initialisé. Pour l'instant, sachez qu'il est standard que ce code soit inclus. Bientôt, vous verrez d'autres utilisations du constructeur ainsi que `props`.

:::info instructions
`MyComponent` est défini dans l'éditeur de code à l'aide de la syntaxe de classe. Terminez d'écrire la méthode `render` pour qu'elle retourne un élément `div` contenant un `h1` avec le texte `Hello React!`.
:::

:::tip missions
- Le composant React doit renvoyer un élément `div`.
- Le `div` retourné doit afficher un en-tête `h1` à l'intérieur.
- L'en-tête `h1` doit contenir la chaîne `Hello React!`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
class MyComponent extends React.Component {
  constructor(props) {
    super(props);
  }
  render() {
    return(
      <div>
        <h1>Hello React!</h1>
      </div>
    )
  }
};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-08a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-create-a-react-component/301386)

-----



## 9. Créer un composant avec composition

[Learn React: Create a Component with Composition | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/create-a-component-with-composition)

Nous allons maintenant voir comment nous pouvons composer plusieurs composants React ensemble. Imaginez que vous construisez une application et que vous avez créé trois composants, une `Navbar`, un `Dashboard` et un `Footer`.<br />
Pour composer ces composants ensemble, vous pouvez créer un composant *parent* `App` qui rend chacun de ces trois composants en tant que *enfants*. Pour rendre un composant en tant qu'enfant dans un composant React, vous incluez le nom du composant écrit en tant que balise HTML personnalisée dans le JSX. Par exemple, dans la méthode `render`, vous pouvez écrire :

```jsx
return (
 <App>
  <Navbar />
  <Dashboard />
  <Footer />
 </App>
)
```

Lorsque React rencontre une balise HTML personnalisée qui fait référence à un autre composant (un nom de composant encapsulé dans `< />` comme dans cet exemple), il restitue le balisage de ce composant à l'emplacement de la balise. Cela doit illustrer la relation parent/enfant entre le composant `App` et la `Navbar`, le `Dashboard` et le `Footer`.

:::info instructions
Dans l'éditeur de code, il existe un composant fonctionnel simple appelé `ChildComponent` et un composant classe appelé `ParentComponent`. Composez les deux ensemble en rendant le `ChildComponent` dans `ParentComponent`. Assurez-vous de fermer la balise `ChildComponent` avec une barre oblique.<br />
**Remarque :** `ChildComponent` est défini avec une fonction fléchée ES6 car il s'agit d'une pratique très courante lors de l'utilisation de React. Cependant, sachez que ce n'est qu'une fonction. Si vous n'êtes pas familier avec la syntaxe de la fonction fléchée, veuillez vous référer à la section JavaScript.

```jsx
const ChildComponent = () => {
  return (
    <div>
      <p>I am the child</p>
    </div>
  );
};

class ParentComponent extends React.Component {
  constructor(props) {
    super(props);
  }
  render() {
    return (
      <div>
        <h1>I am the parent</h1>
        { /* Changer le code sous cette ligne */ }

        { /* Modifier le code au-dessus de cette ligne */ }
      </div>
    );
  }
};
```

:::

:::tip missions
- Le composant React doit renvoyer un seul élément `div`.
- Le composant doit renvoyer deux éléments imbriqués.
- Le composant doit renvoyer le `ChildComponent` comme son deuxième enfant.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
const ChildComponent = () => {
  return (
    <div>
      <p>I am the child</p>
    </div>
  );
};

class ParentComponent extends React.Component {
  constructor(props) {
    super(props);
  }
  render() {
    return (
      <div>
        <h1>I am the parent</h1>
        <ChildComponent />
      </div>
    );
  }
};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-09a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-create-a-component-with-composition/301383)

-----



## 10. Utiliser React pour rendre les composants imbriqués

[Learn React: Use React to Render Nested Components | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/use-react-to-render-nested-components)

Le dernier défi a montré un moyen simple de composer deux composants, mais il existe de nombreuses façons différentes de composer des composants avec React.<br />
La composition des composants est l'une des fonctionnalités puissantes de React. Lorsque vous travaillez avec React, il est important de commencer à penser à votre interface utilisateur en termes de composants comme l'exemple d'application dans le dernier défi. Vous décomposez votre interface utilisateur en ses éléments de base, et ces éléments deviennent les composants. Cela permet de séparer le code responsable de l'interface utilisateur du code responsable de la gestion de la logique de votre application. Cela peut grandement simplifier le développement et la maintenance de projets complexes.

:::info instructions

Il existe deux composants fonctionnels définis dans l'éditeur de code, appelés `TypesOfFruit` et `Fruits`. Prenez le composant `TypesOfFruit` et composez-le ou imbriquez-le dans le composant `Fruits`. Ensuite, prenez le composant `Fruits` et imbriquez-le dans le composant `TypesOfFood`. Le résultat doit être un composant enfant, imbriqué dans un composant parent, qui est imbriqué dans un composant parent qui lui est propre !

```jsx
const TypesOfFruit = () => {
  return (
    <div>
      <h2>Fruits:</h2>
      <ul>
        <li>Apples</li>
        <li>Blueberries</li>
        <li>Strawberries</li>
        <li>Bananas</li>
      </ul>
    </div>
  );
};

const Fruits = () => {
  return (
    <div>
      { /* Changer le code sous cette ligne */ }

      { /* Changer le code au-dessus de cette ligne */ }
    </div>
  );
};

class TypesOfFood extends React.Component {
  constructor(props) {
    super(props);
  }

  render() {
    return (
      <div>
        <h1>Types of Food:</h1>
        { /* Changer le code sous cette ligne */ }

        { /* Changer le code au-dessus de cette ligne */ }
      </div>
    );
  }
};
```

:::

:::tip missions
- Le composant `TypesOfFood` doit renvoyer un seul élément `div`.
- Le composant `TypesOfFood` doit renvoyer le composant `Fruits`.
- Le composant `Fruits` doit renvoyer le composant `TypesOfFruit`.
- Le composant `TypesOfFruit` doit renvoyer les éléments `h2` et `ul`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
const TypesOfFruit = () => {
  return (
    <div>
      <h2>Fruits:</h2>
      <ul>
        <li>Apples</li>
        <li>Blueberries</li>
        <li>Strawberries</li>
        <li>Bananas</li>
      </ul>
    </div>
  );
};

const Fruits = () => {
  return (
    <div>
      <TypesOfFruit />
    </div>
  );
};

class TypesOfFood extends React.Component {
  constructor(props) {
    super(props);
  }

  render() {
    return (
      <div>
        <h1>Types of Food:</h1>
        <Fruits />
      </div>
    );
  }
};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-10a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-use-react-to-render-nested-components/301420)

-----



## 11. Composez les composants React

[Learn React: Compose React Components | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/compose-react-components)

Alors que les défis continuent d'utiliser des compositions plus complexes avec des composants React et JSX, il y a un point important à noter. Le rendu des composants de classe de style ES6 dans d'autres composants n'est pas différent du rendu des composants simples que vous avez utilisés dans les derniers défis. Vous pouvez rendre des éléments JSX, des composants fonctionnels sans état et des composants de classe ES6 dans d'autres composants.

:::info instructions
Dans l'éditeur de code, le composant `TypesOfFood` rend déjà un composant appelé `Vegetables`. De plus, il y a le composant `Fruits` du dernier défi.<br />
Imbriquez deux composants à l'intérieur de `Fruits` - d'abord `NonCitrus`, puis `Citrus`. Ces deux composants vous sont fournis dans les coulisses. Ensuite, imbriquez le composant de classe `Fruits` dans le composant `TypesOfFood`, sous l'en-tête `h1` et au-dessus de `Vegetables`. Le résultat doit être une série de composants imbriqués, qui utilise deux types de composants différents.

```jsx
class Fruits extends React.Component {
  constructor(props) {
    super(props);
  }
  render() {
    return (
      <div>
        <h2>Fruits:</h2>
        { /* Changer le code sous cette ligne */ }

        { /* Changer le code au-dessus de cette ligne */ }
      </div>
    );
  }
};

class TypesOfFood extends React.Component {
  constructor(props) {
     super(props);
  }
  render() {
    return (
      <div>
        <h1>Types of Food:</h1>
        { /* Changer le code sous cette ligne */ }

        { /* Changer le code au-dessus de cette ligne */ }
        <Vegetables />
      </div>
    );
  }
};
```

:::

:::tip missions
- Le composant `TypesOfFood` doit renvoyer un seul élément `div`.
- Le composant `TypesOfFood` doit renvoyer le composant `Fruits`.
- Le composant `Fruits` doit renvoyer le composant `NonCitrus` et le composant `Citrus`.
- Le composant `TypesOfFood` doit renvoyer le composant Vegetables sous le composant `Fruits`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
class Fruits extends React.Component {
  constructor(props) {
    super(props);
  }
  render() {
    return (
      <div>
        <h2>Fruits:</h2>
        <NonCitrus />
        <Citrus />
      </div>
    );
  }
};

class TypesOfFood extends React.Component {
  constructor(props) {
     super(props);
  }
  render() {
    return (
      <div>
        <h1>Types of Food:</h1>
        <Fruits />
        <Vegetables />
      </div>
    );
  }
};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-11a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-compose-react-components/301381)

:::note guide : 
#### Liens pertinents

- [Components and Props](https://fr.reactjs.org/docs/components-and-props.html)
- [Nested Components](http://www.reactjstutorial.net/nested-components.html)

:::

-----



## 12. Rendre un composant de classe dans le DOM

[Learn React: Render a Class Component to the DOM | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/render-a-class-component-to-the-dom)

Vous vous souvenez peut-être avoir utilisé l'API ReactDOM dans un défi précédent pour rendre les éléments JSX dans le DOM. Le processus de rendu des composants React sera très similaire. Les derniers défis se sont concentrés sur les composants et la composition, le rendu a donc été fait pour vous dans les coulisses. Cependant, aucun du code React que vous écrivez ne sera rendu dans le DOM sans faire un appel à l'API ReactDOM.<br />
Voici un rappel sur la syntaxe : `ReactDOM.render(componentToRender, targetNode)`. Le premier argument est le composant React que vous souhaitez rendre. Le deuxième argument est le nœud DOM dans lequel vous souhaitez rendre ce composant.<br />
Les composants React sont passés dans `ReactDOM.render()` un peu différemment des éléments JSX. Pour les éléments JSX, vous passez le nom de l'élément que vous souhaitez rendre. Cependant, pour les composants React, vous devez utiliser la même syntaxe que si vous rendiez un composant imbriqué, par exemple `ReactDOM.render(<ComponentToRender />, targetNode)`. Vous utilisez cette syntaxe pour les composants de classe ES6 et les composants fonctionnels.

:::info instructions
Les composants `Fruits` et `Vegetables` sont définis pour vous dans les coulisses. Rendez les deux composants en tant qu'enfants du composant `TypesOfFood`, puis rendez `TypesOfFood` dans le DOM. Il y a un `div` avec `id='challenge-node'` à votre disposition.

```jsx
class TypesOfFood extends React.Component {
  constructor(props) {
    super(props);
  }
  render() {
    return (
      <div>
        <h1>Types of Food:</h1>
        {/* Changer le code sous cette ligne */}

        {/* Changer le code au-dessus de cette ligne */}
      </div>
    );
  }
};

// Changer le code sous cette ligne
```

:::

:::tip missions
- Le composant `TypesOfFood` doit renvoyer un seul élément `div`.
- Le composant `TypesOfFood` doit rendre le composant `Fruits` après l'élément `h1`.
- Le composant `TypesOfFood` doit rendre le composant `Vegetables` après `Fruits`.
- Le composant `TypesOfFood` doit être rendu dans le DOM dans le `div` avec l'id `challenge-node`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
class TypesOfFood extends React.Component {
  constructor(props) {
    super(props);
  }
  render() {
    return (
      <div>
        <h1>Types of Food:</h1>
        <Fruits />
        <Vegetables />
      </div>
    );
  }
};

ReactDOM.render(<TypesOfFood />, document.getElementById('challenge-node'))
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-12a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-render-a-class-component-to-the-dom/301404)

:::note guide : Rendre un composant de classe dans le DOM
### Explication du problème

Votre code devrait ressembler à ceci :

```jsx
class TypesOfVehicles extends React.Component {
  constructor(props) {
    super(props);
  }
  render() {
    return (
      <div>
        <h1>Types of Vehicles:</h1>
        <Car />
        <Motorcycle />
      </div>
    );
  }
}
ReactDOM.render(<TypesOfVehicles />, document.getElementById("node-id"));
```

La syntaxe ReactDOM.render peut être un peu délicate, vous devez utiliser les crochets triangulaires lors du passage d'un composant de classe. Les deux sous-composants sont également déclarés dans les coulisses, ce qui peut être déroutant si vous êtes habitué à ce que toutes les variables soient définies dans l'éditeur de code et visibles devant vous.

### Astuces
#### Indice

Utilisez `document.getElementById('node-id')` pour obtenir le nœud cible dont l'id a la valeur `'node-id'`.

#### Liens pertinents

- [Rendering Elements](https://fr.reactjs.org/docs/rendering-elements.html)

Notez comment vous utilisez les concepts appris dans les défis précédents pour rendre un composant de classe avec des composants enfants dans le DOM à l'aide de la méthode ReactDOM `render()` et de la méthode Document `getElementbyId('element-id')`.
:::

-----



## 13. Écrire un composant React à partir de zéro

[Learn React: Write a React Component from Scratch | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/write-a-react-component-from-scratch)

Maintenant que vous avez appris les bases des composants JSX et React, il est temps d'écrire un composant par vous-même. Les composants React sont les éléments de base des applications React, il est donc important de se familiariser avec leur écriture. N'oubliez pas qu'un composant React typique est une `class` ES6 qui étend `React.Component`. Il a une méthode de rendu qui renvoie HTML (à partir de JSX) ou `null`. Il s'agit de la forme de base d'un composant React. Une fois que vous aurez bien compris cela, vous serez prêt à commencer à construire des projets React plus complexes.

:::info instructions
Définissez une classe `MyComponent` qui étend `React.Component`. Sa méthode de rendu doit retourner un `div` qui contient une balise `h1` avec le texte : `My First React Component!` dedans. Utilisez ce texte exactement, la casse et la ponctuation comptent. Assurez-vous également d'appeler le constructeur de votre composant.<br />
Rendez ce composant dans le DOM en utilisant `ReactDOM.render()`. Il y a un `div` avec `id='challenge-node'` à votre disposition.
:::

:::tip missions
- Il devrait y avoir un composant React appelé `MyComponent`.
- `MyComponent` doit contenir une balise `h1` avec le texte `My First React Component!`. La casse et la ponctuation sont importantes.
- `MyComponent` doit être rendu dans le DOM.
- `MyComponent` doit avoir un constructeur appelant `super` avec `props`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
class MyComponent extends React.Component {
    constructor(props) {
        super(props);
    }
    render() {
        return (
            <div id="challenge-node">
                <h1>My First React Component!</h1>
            </div>
        )
    }
};
ReactDOM.render(< MyComponent />, document.getElementById('challenge-node'));
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-13a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-write-a-react-component-from-scratch/301424)

:::note guide : Écrire un composant React à partir de zéro
### Explication du problème

Dans ce défi, nous voulons créer un composant React `class` (les composants de React peuvent être des composants `class` ou des composants `function`). Tous nos composants de classe seront une extension de `React.Component`. Par exemple, nous pouvons commencer à créer un composant appelé `FirstComponent` avec :

```jsx
class FirstComponent extends React.Component {}
```

Nous devons également nous assurer de définir le `constructor` de notre nouvelle classe. Il est recommandé d'appeler le `constructor` de n'importe quel composant avec `super` et de transmettre `props` aux deux. `super` extrait le `constructor` de la classe parent de notre composant (dans ce cas, `React.Component`). Maintenant, le code de notre composant ressemble à ceci :

```jsx
class FirstComponent extends React.Component {
  constructor(props) {
    super(props);
  }
}
```

Il ne reste plus qu'à définir le rendu de notre composant ! Nous faisons cela en appelant la méthode `render` du composant et en renvoyant notre code JSX :

```jsx
class FirstComponent extends React.Component {
  constructor(props) {
    super(props);
  }
  render() {
    return (
// Le code JSX que vous mettez ici est ce que votre composant rendra
    );
  }
};
```

Une fois que votre code JSX y est, votre composant est terminé ! Si vous voulez un tutoriel plus granulaire sur les composants React, Samer Buna [a écrit un excellent article](https://www.freecodecamp.org/news/how-to-write-your-first-react-js-component-d728d759cabc/).

:::

-----



## 14. Passer des accessoires à un composant fonctionnel sans état

[Learn React: Pass Props to a Stateless Functional Component | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/pass-props-to-a-stateless-functional-component)

Les défis précédents portaient beaucoup sur la création et la composition d'éléments JSX, de composants fonctionnels et de composants de classe de style ES6 dans React. Avec cette base, il est temps de se pencher sur une autre fonctionnalité très courante dans React : **props** (accessoires). Dans React, vous pouvez transmettre des accessoires ou des propriétés aux composants enfants. Supposons que vous ayez un composant `App` qui restitue un composant enfant appelé `Welcome` qui est un composant fonctionnel sans état. Vous pouvez transmettre à `Welcome` une propriété `user` en écrivant :

```jsx
<App>
  <Welcome user='Mark' />
</App>
```

Vous utilisez **des attributs HTML personnalisés** créés par vous et pris en charge par React pour être transmis au composant. Dans ce cas, la propriété créée `user` est passé au composant `Welcome`. Puisque `Welcome` est un composant fonctionnel sans état, il a accès à cette valeur comme suit :

```jsx
const Welcome = (props) => <h1>Hello, {props.user}!</h1>
```

Il est standard d'appeler cette valeur `props` et lorsque vous traitez avec des composants fonctionnels sans état, vous le considérez fondamentalement comme un argument d'une fonction qui renvoie JSX. Vous pouvez accéder à la valeur de l'argument dans le corps de la fonction. Avec les composants de classe, vous verrez que c'est un peu différent.

:::info instructions

Il existe des composants `Calendar` et `CurrentDate` dans l'éditeur de code. Lors du rendu `CurrentDate` à partir du composant `Calendar`, transmettez une propriété `date` affectée à la date actuelle à partir de l'objet `Date` de JavaScript. Accédez ensuite à ce `prop` dans le composant `CurrentDate`, en affichant sa valeur dans les balises `p`. Notez que pour que les valeurs `prop` soient évaluées comme JavaScript, elles doivent être placées entre accolades, par exemple `date={Date()}`.

```jsx
const CurrentDate = (props) => {
  return (
    <div>
      { /* Changer le code sous cette ligne */ }
      <p>The current date is: </p>
      { /* Changer le code au-dessus de cette ligne */ }
    </div>
  );
};

class Calendar extends React.Component {
  constructor(props) {
    super(props);
  }
  render() {
    return (
      <div>
        <h3>What date is it?</h3>
        { /* Changer le code sous cette ligne */ }
        <CurrentDate />
        { /* Changer le code au-dessus de cette ligne */ }
      </div>
    );
  }
};
```

:::

:::tip missions
- Le composant `Calendar` doit renvoyer un seul élément `div`.
- Le deuxième enfant du composant `Calendar` doit être le composant ``CurrentDate``.
- Le composant `CurrentDate` doit avoir un accessoire appelé `date`.
- La prop `date` de `CurrentDate` doit contenir une chaîne de texte.
- Le prop `date` doit être généré en appelant `Date()`.
- Le composant `CurrentDate` doit rendre la valeur de l'accessoire de `date` dans la balise `p`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
const CurrentDate = (props) => {
  return (
    <div>
      <p>The current date is: {props.date}</p>
    </div>
  );
};

class Calendar extends React.Component {
  constructor(props) {
    super(props);
  }
  render() {
    return (
      <div>
        <h3>What date is it?</h3>
        <CurrentDate date={Date()} />
      </div>
    );
  }
};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-14a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-pass-props-to-a-stateless-functional-component/301402)

-----



## 15. Passer un tableau comme accessoires

[Learn React: Pass an Array as Props | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/pass-an-array-as-props)

Le dernier défi a montré comment transmettre des informations d'un composant parent à un composant enfant sous forme de `props` ou de propriétés. Ce défi examine comment les tableaux peuvent être passés comme `props`. Pour passer un tableau à un élément JSX, il doit être traité comme du JavaScript et placé entre accolades.

```jsx
<ParentComponent>
  <ChildComponent colors={["green", "blue", "red"]} />
</ParentComponent>
```

Le composant enfant a alors accès à `colors` de la propriété du tableau. Les méthodes de tableau telles que `join()` peuvent être utilisées lors de l'accès à la propriété.

```jsx
const ChildComponent = (props) =>
  <p>{props.colors.join(', ')}</p>
```

Cela joindra tous les éléments du tableau `colors` dans une chaîne séparée par des virgules et produira : `<p>green, blue, red</p>`. Plus tard, nous en apprendrons plus sur d'autres méthodes courantes pour restituer des tableaux de données dans React.

:::info instructions
Il existe des composants `List` et `ToDo` dans l'éditeur de code. Lors du rendu de chaque `List` à partir du composant `ToDo`, transmettez une propriété `tasks` affectée à un tableau de tâches à faire, par exemple `['walk dog', 'workout']`. Accédez ensuite à ce tableau `tasks` dans le composant `List`, en affichant sa valeur dans l'élément `p`. Utilisez `join(", ")` pour afficher le tableau `props.tasks` dans l'élément `p` sous forme de liste séparée par des virgules. La liste d'aujourd'hui devrait avoir au moins 2 tâches et celle de demain devrait avoir au moins 3 tâches.
:::

:::tip missions
- Le composant `ToDo` doit renvoyer un seul `div` externe.
- Le troisième enfant du composant `ToDo` doit être une instance du composant `List`.
- Le cinquième enfant du composant `ToDo` doit être une instance du composant `List`.
- Les deux instances du composant `List` doivent avoir une propriété appelée `tasks` et `tasks` doit être de type tableau.
- Le premier composant `List` représentant les tâches d'aujourd'hui doit avoir au moins 2 éléments.
- Le deuxième composant `List` représentant les tâches de demain doit avoir 3 éléments ou plus.
- Le composant `List` doit rendre la valeur de l'accessoire `tasks` dans la balise `p`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
const List = (props) => {
  return <p>{props.tasks.join(", ")}</p>
};

class ToDo extends React.Component {
  constructor(props) {
    super(props);
  }
  render() {
    return (
      <div>
        <h1>To Do Lists</h1>
        <h2>Today</h2>
        <List tasks={["Walk", "Cook"]}/>
        <h2>Tomorrow</h2>
        <List tasks={["Study", "Code", "Eat"]}/>
      </div>
    );
  }
};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-15a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-pass-an-array-as-props/301401)

-----



## 16. Utiliser les props par défaut

[Learn React: Use Default Props | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/use-default-props)

React a également une option pour définir les accessoires par défaut. Vous pouvez attribuer des accessoires par défaut à un composant en tant que propriété sur le composant lui-même et React attribue les accessoires par défaut si nécessaire. Cela vous permet de spécifier ce que doit être une valeur de prop si aucune valeur n'est explicitement fournie. Par exemple, si vous déclarez `MyComponent.defaultProps = {location: 'San Francisco'}`, vous avez défini un accessoire d'emplacement défini sur la chaîne `San Francisco`, sauf indication contraire de votre part. React affecte les props par défaut si les props ne sont pas définis, mais si vous passez `null` comme valeur pour un prop, il restera `null`.

:::info instructions
L'éditeur de code montre un composant `ShoppingCart`. Définissez les accessoires par défaut sur ce composant qui spécifient un accessoire `items` avec une valeur de `0`.
:::

:::tip missions
- Le composant `ShoppingCart` doit être rendu.
- Le composant `ShoppingCart` doit avoir une prop par défaut de `{items: 0}`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
const ShoppingCart = (props) => {
  return (
    <div>
      <h1>Shopping Cart Component</h1>
    </div>
  )
};
ShoppingCart.defaultProps = {items: 0};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-16a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-use-default-props/301418)

:::note guide : Utiliser les accessoires par défaut
### Explication du problème

Ce défi vous oblige à déclarer un accessoire par défaut pour le composant `ShoppingCart` :

```jsx
const ShoppingCart = props => {
  return (
    <div>
      <h1>Shopping Cart Component</h1>
    </div>
  );
};
```

Pour déclarer un accessoire par défaut, la syntaxe à suivre est :

```jsx
itemName.defaultProps = {
  prop-x: value,
  prop-y: value
}
```

En suivant la syntaxe, le code suivant doit être déclaré sous le code donné :

```jsx
ShoppingCart.defaultProps = {
  items: 0
};
```

Cela déclare un accessoire nommé `items` avec la valeur `0`.
:::

-----



## 17. Remplacer les props par défaut

[Learn React: Override Default Props | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/override-default-props)

La possibilité de définir des accessoires par défaut est une fonctionnalité utile dans React. La façon de remplacer les accessoires par défaut est de définir explicitement les valeurs des accessoires pour un composant.

:::info instructions
Le composant `ShoppingCart` rend désormais un élément enfant `Items`. Ce composant `Items` a une prop `quantity` par défaut définie sur l'entier `0`. Remplacez la prop par défaut en passant une valeur de `10` pour `quantity`.<br />
**Remarque :** n'oubliez pas que la syntaxe pour ajouter un accessoire à un composant ressemble à la façon dont vous ajoutez des attributs HTML. Cependant, comme la valeur de `quantity` est un entier, elle ne sera pas entre guillemets, mais elle doit être entourée d'accolades. Par exemple, `{100}`. Cette syntaxe indique à JSX d'interpréter la valeur entre accolades directement en JavaScript.
:::

:::tip missions
- Le composant `ShoppingCart` doit être rendu.
- Le composant `Items` doivent être rendus.
- Le composant `Items` doit avoir un accessoire de `{quantité: 10}` transmis par le composant `ShoppingCart`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
const Items = (props) => {
  return <h1>Current Quantity of Items in Cart: {props.quantity}</h1>
}

Items.defaultProps = {
  quantity: 0
}

class ShoppingCart extends React.Component {
  constructor(props) {
    super(props);
  }
  render() {
    return <Items quantity = {10} />
  }
};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-17a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-override-default-props/301399)

-----



## 18. Utilisez `PropTypes` pour définir les accessoires que vous attendez

[Learn React: Use PropTypes to Define the Props You Expect | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/use-proptypes-to-define-the-props-you-expect)

React fournit des fonctionnalités de vérification de type utiles pour vérifier que les composants reçoivent des accessoires du type correct. Par exemple, votre application effectue un appel API pour récupérer les données que vous prévoyez d'être dans un tableau, qui sont ensuite transmises à un composant en tant que prop. Vous pouvez définir `propTypes` sur votre composant pour exiger que les données soient de type `array`. Cela lancera un avertissement utile lorsque les données sont de tout autre type.<br />
Il est recommandé de définir des `propTypes` lorsque vous connaissez à l'avance le type d'accessoire. Vous pouvez définir une propriété `propTypes` pour un composant de la même manière que vous avez défini `defaultProps`. Cela vérifiera que les accessoires d'une clé donnée sont présents avec un type donné. Voici un exemple pour exiger le type `function` pour un accessoire appelé `handleClick` :

```jsx
MyComponent.propTypes = {handleClick: PropTypes.func.isRequired}
```

Dans l'exemple ci-dessus, la partie `PropTypes.func` vérifie que `handleClick` est une fonction. L'ajout de `isRequired` indique à React que `handleClick` est une propriété requise pour ce composant. Vous verrez un avertissement si cet accessoire n'est pas fourni. Notez également que `func` représente `function`. Parmi les sept types primitifs JavaScript, `function` et `boolean` (écrits `bool`) sont les deux seuls à utiliser une orthographe inhabituelle. En plus des types primitifs, il existe d'autres types disponibles. Par exemple, vous pouvez vérifier qu'un accessoire est un élément React. Veuillez vous référer à la [documentation](https://fr.reactjs.org/docs/jsx-in-depth.html#specifying-the-react-element-type) pour toutes les options.<br />
**Remarque :** à partir de React v15.5.0, les `PropTypes` sont importés indépendamment de React, comme ceci : `import PropTypes from 'prop-types';`.

:::info instructions
Définissez `propTypes` pour que le composant `Items` exige `quantity` comme accessoire et vérifiez qu'il est de type `number`.
:::

:::tip missions
- Le composant `ShoppingCart` doit être rendu.
- Le composant `Items` doit être rendu.
- Le composant `Items` doit inclure une vérification `propTypes` pour exiger une valeur pour `quantity` et s'assurer que sa valeur est un nombre.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
const Items = (props) => {
  return <h1>Current Quantity of Items in Cart: {props.quantity}</h1>
};

Items.propTypes = {
  quantity: PropTypes.number.isRequired
  }

Items.defaultProps = {
  quantity: 0
};

class ShoppingCart extends React.Component {
  constructor(props) {
    super(props);
  }
  render() {
    return <Items />
  }
};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-18a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-use-proptypes-to-define-the-props-you-expect/301419)

-----



## 19. Accéder aux accessoires à l'aide de `this.props`

[Learn React: Access Props Using this.props | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/access-props-using-this-props)

Les derniers défis portaient sur les méthodes de base pour passer des accessoires aux composants enfants. Mais que se passe-t-il si le composant enfant auquel vous passez un accessoire est un composant de classe ES6, plutôt qu'un composant fonctionnel sans état ? Le composant de classe ES6 utilise une convention légèrement différente pour accéder aux accessoires.<br />
Chaque fois que vous faites référence à un composant de classe en lui-même, vous utilisez le mot-clé `this`. Pour accéder aux accessoires dans un composant de classe, vous préférez le code que vous utilisez pour y accéder avec `this`. Par exemple, si un composant de classe ES6 a un prop appelé `data`, vous écrivez `{this.props.data}` dans JSX.

:::info instructions
Rendez une instance du composant `ReturnTempPassword` dans le composant parent `ResetPassword`. Ici, donnez à `ReturnTempPassword` un accessoire de `tempPassword` et attribuez-lui la valeur d'une chaîne d'au moins 8 caractères. Dans l'enfant, `ReturnTempPassword`, accédez à la prop `tempPassword` dans les balises `strong` pour vous assurer que l'utilisateur voit le mot de passe temporaire.
:::

:::tip missions
- Le composant `ResetPassword` doit renvoyer un seul élément `div`.
- Le quatrième enfant de `ResetPassword` doit être le composant `ReturnTempPassword`.
- Le composant `ReturnTempPassword` doit avoir un accessoire appelé `tempPassword`.
- La prop `tempPassword` de `ReturnTempPassword` doit être égale à une chaîne d'au moins 8 caractères.
- Le composant `ReturnTempPassword` doit afficher le mot de passe que vous créez comme accessoire `tempPassword` dans des balises `strong`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
class ReturnTempPassword extends React.Component {
  constructor(props) {
    super(props);

  }
  render() {
    return (
        <div>
            <p>Your temporary password is: <strong>{this.props.tempPassword}</strong></p>
        </div>
    );
  }
};

class ResetPassword extends React.Component {
  constructor(props) {
    super(props);

  }
  render() {
    return (
        <div>
          <h2>Reset Password</h2>
          <h3>We've generated a new temporary password for you.</h3>
          <h3>Please reset this password from your account settings ASAP.</h3>

          <ReturnTempPassword tempPassword="0123456789" />

        </div>
    );
  }
};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-19a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-access-props-using-this-props/301375)

-----



## 20. Examiner l'utilisation d'accessoires avec des composants fonctionnels sans état

[Learn React: Review Using Props with Stateless Functional Components | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/review-using-props-with-stateless-functional-components)

À l'exception du dernier défi, vous avez transmis des accessoires à des composants fonctionnels sans état. Ces composants agissent comme de pures fonctions. Ils acceptent les accessoires en entrée et renvoient la même vue à chaque fois qu'ils reçoivent les mêmes accessoires. Vous vous demandez peut-être quel est l'état, et le prochain défi le couvrira plus en détail. Avant cela, voici un aperçu de la terminologie des composants.<br />
Un *composant fonctionnel sans état* est toute fonction que vous écrivez qui accepte les accessoires et renvoie JSX. Un *composant sans état*, en revanche, est une classe qui étend `React.Component`, mais n'utilise pas l'état interne (abordé dans le prochain défi). Enfin, un *composant avec état* est un composant de classe qui conserve son propre état interne. Vous pouvez voir des composants avec état appelés simplement composants ou composants React.<br />
Un modèle courant consiste à essayer de minimiser l'état et à créer des composants fonctionnels sans état dans la mesure du possible. Cela permet de limiter la gestion de votre état à un domaine spécifique de votre application. À son tour, cela améliore le développement et la maintenance de votre application en facilitant le suivi de la manière dont les changements d'état affectent son comportement.

:::info instructions
L'éditeur de code a un composant `CampSite` qui rend un composant `Camper` en tant qu'enfant. Définissez le composant `Camper` et attribuez-lui les accessoires par défaut de `{name: 'CamperBot'}`. À l'intérieur du composant `Camper`, restituez le code de votre choix, mais assurez-vous d'avoir un élément `p` qui inclut uniquement la valeur `name` qui est transmise en tant que `prop`. Enfin, définissez `propTypes` sur le composant `Camper` pour exiger que `name` soit fourni comme accessoire et vérifiez qu'il est de type `string`.
:::

:::tip missions
- Le composant `CampSite` doit être rendu.
- Le composant `Camper` doit être rendu.
- Le composant `Camper` doit inclure des accessoires par défaut qui attribuent la chaîne `CamperBot` à la clé `name`.
- Le composant `Camper` doit inclure des types prop qui nécessitent que le prop `name` soit de type `string`.
- Le composant `Camper` doit contenir un élément `p` avec uniquement le texte du prop `name`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
class CampSite extends React.Component {
  constructor(props) {
    super(props);
  }
  render() {
    return (
      <div>
        <Camper/>
      </div>
    );
  }
};

const Camper = props => <p>{props.name}</p>;

Camper.defaultProps = {
  name: "CamperBot"
};

Camper.propTypes = {
  name: PropTypes.string.isRequired
};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-20a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-review-using-props-with-stateless-functional-components/301411)

:::note guide : Examiner l'utilisation d'accessoires avec des composants fonctionnels sans état
#### Liens pertinents

- [Validation de types avec PropTypes](https://fr.reactjs.org/docs/typechecking-with-proptypes.html)
:::

-----



## 21. Créer un composant avec état

[Learn React: Create a Stateful Component | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/create-a-stateful-component)

L'un des sujets les plus importants de React est `state`. `state` se compose de toutes les données que votre application doit connaître et qui peuvent changer au fil du temps. Vous voulez que vos applications répondent aux changements d'état et présentent une interface utilisateur mise à jour si nécessaire. React offre une solution intéressante pour la gestion de l'état des applications Web modernes.<br />
Vous créez un état dans un composant React en déclarant une propriété `state` sur la classe de composant dans son `constructor`. Cela initialise le composant avec `state` lors de sa création. La propriété `state` doit être définie sur un `object` JavaScript. Déclarer cela ressemble à ceci :

```jsx
this.state = {
  // décrivez votre état ici
}
```

Vous avez accès à l'objet `state` pendant toute la durée de vie de votre composant. Vous pouvez le mettre à jour, le rendre dans votre interface utilisateur et le transmettre comme accessoires aux composants enfants. L'objet `state` peut être aussi complexe ou aussi simple que vous en avez besoin. Notez que vous devez créer un composant de classe en étendant `React.Component` afin de créer `state` comme celui-ci.

:::info instructions
Il existe un composant dans l'éditeur de code qui tente de restituer une propriété `name` à partir de son `state`. Cependant, aucun `state` n'est défini. Initialisez le composant avec `state` dans le `constructor` et attribuez votre nom à une propriété de `name`.
:::

:::tip missions
- `StatefulComponent` doit exister et rendre.
- `StatefulComponent` doit restituer un élément `div` et un élément `h1`.
- L'état de `StatefulComponent` doit être initialisé avec une propriété `name` défini sur une chaîne.
- La propriété `name` dans l'état `StatefulComponent` doit s'afficher dans l'élément `h1`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
class StatefulComponent extends React.Component {
  constructor(props) {
    super(props);

    this.state = {
      name : "myName"
    }

  }
  render() {
    return (
      <div>
        <h1>{this.state.name}</h1>
      </div>
    );
  }
};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-21a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-create-a-stateful-component/301391)

-----



## 22. Rendre l'état dans l'interface utilisateur

[Learn React: Render State in the User Interface | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/render-state-in-the-user-interface)

Une fois que vous avez défini l'état initial d'un composant, vous pouvez afficher n'importe quelle partie de celui-ci dans l'interface utilisateur qui est rendue. Si un composant est avec état, il aura toujours accès aux données dans `state` dans sa méthode `render()`. Vous pouvez accéder aux données avec `this.state`.<br />
Si vous souhaitez accéder à une valeur d'état dans le `return` de la méthode de rendu, vous devez placer la valeur entre accolades.<br />
`State` est l'une des fonctionnalités les plus puissantes des composants de React. Il vous permet de suivre les données importantes dans votre application et d'afficher une interface utilisateur en réponse aux modifications de ces données. Si vos données changent, votre interface utilisateur changera. React utilise ce qu'on appelle un DOM virtuel, pour suivre les changements dans les coulisses. Lorsque les données d'état sont mises à jour, cela déclenche un nouveau rendu des composants à l'aide de ces données, y compris les composants enfants qui ont reçu les données en tant que prop. React met à jour le DOM réel, mais uniquement lorsque cela est nécessaire. Cela signifie que vous n'avez pas à vous soucier de changer le DOM. Vous déclarez simplement à quoi devrait ressembler l'interface utilisateur.<br />
Notez que si vous rendez un composant avec état, aucun autre composant ne connaît son `state`. Son `state` est complètement encapsulé, ou local pour ce composant, à moins que vous ne transmettiez des données d'état à un composant enfant comme `props`. Cette notion de `state` encapsulé est très importante car elle vous permet d'écrire une certaine logique, puis d'avoir cette logique contenue et isolée en un seul endroit dans votre code.

:::info instructions
Dans l'éditeur de code, `MyComponent` est déjà avec état. Définissez une balise `h1` dans la méthode de rendu du composant qui restitue la valeur de `name` à partir de l'état du composant.<br />
**Remarque :** le `h1` ne doit rendre que la valeur de `state` et rien d'autre. Dans JSX, tout code que vous écrivez avec des accolades `{ }` sera traité comme du JavaScript. Donc, pour accéder à la valeur de `state`, placez simplement la référence entre accolades.
:::

:::tip missions
- `MyComponent` doit avoir un nom de clé avec la valeur `freeCodeCamp` stockée dans son état.
- `MyComponent` devrait rendre un en-tête `h1` inclus dans un seul `div`.
- L'en-tête `h1` rendu doit contenir du texte rendu à partir de l'état du composant.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
class MyComponent extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      name: 'freeCodeCamp'
    }
  }
  render() {
    return (
      <div>

        <h1>{this.state.name}</h1>

      </div>
    );
  }
};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-22a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-render-state-in-the-user-interface/301409)

-----



## 23. Rendre l'état dans l'interface utilisateur d'une autre manière

[Learn React: Render State in the User Interface Another Way | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/render-state-in-the-user-interface-another-way)

Il existe une autre façon d'accéder à `state` dans un composant. Dans la méthode `render()`, avant l'instruction `return`, vous pouvez écrire directement du JavaScript. Par exemple, vous pouvez déclarer des fonctions, accéder aux données à partir de `state` ou de `props`, effectuer des calculs sur ces données, etc. Ensuite, vous pouvez affecter toutes les données à des variables auxquelles vous avez accès dans l'instruction `return`.

:::info instructions
Dans la méthode de rendu `MyComponent`, définissez un `const`appelé `name` et définissez-le égal à la valeur du nom dans le composant `state`. Comme vous pouvez écrire du JavaScript directement dans cette partie du code, vous n'avez pas à placer cette référence entre accolades.<br />
Ensuite, dans l'instruction `return`, affichez cette valeur dans une balise `h1` en utilisant la variable `name`. N'oubliez pas que vous devez utiliser la syntaxe JSX (accolades pour JavaScript) dans l'instruction `return`.
:::

:::tip missions
- `MyComponent` doit avoir une clé `name` avec la valeur `freeCodeCamp` stockée dans son état.
- `MyComponent` devrait rendre un en-tête `h1` inclus dans un seul `div`.
- La balise `h1` rendue doit inclure une référence à `{name}`.
- L'en-tête `h1` rendu doit contenir du texte rendu à partir de l'état du composant.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
class MyComponent extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      name: 'freeCodeCamp'
    }
  }
  render() {

    const name = this.state.name;

    return (
      <div>

        <h1>{name}</h1>

      </div>
    );
  }
};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-23a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-render-state-in-the-user-interface-another-way/301408)

-----



## 24. Définir l'état avec `this.setState`

[Learn React: Set State with this.setState | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/set-state-with-this-setstate)

Les défis précédents portaient sur le composant `state` et sur la façon d'initialiser l'état dans le `constructor`. Il existe également un moyen de modifier le `state` du composant. React fournit une méthode de mise à jour du composant `state` appelée `setState`. Vous appelez la méthode `setState` dans votre classe de composant comme ceci : `this.setState()`, en passant un objet avec des paires clé-valeur. Les clés sont vos propriétés d'état et les valeurs sont les données d'état mises à jour. Par exemple, si nous stockions un `username` dans l'état et voulions le mettre à jour, cela ressemblerait à ceci :

```jsx
this.setState({
  username: 'Lewis'
});
```

React s'attend à ce que vous ne modifiiez jamais `state` directement, mais utilisez toujours `this.setState()` lorsque des changements d'état se produisent. En outre, vous devez noter que React peut regrouper plusieurs mises à jour d'état afin d'améliorer les performances. Cela signifie que les mises à jour d'état via la méthode `setState` peuvent être asynchrones. Il existe une syntaxe alternative pour la méthode `setState` qui permet de contourner ce problème. C'est rarement nécessaire mais il est bon de le garder à l'esprit ! Veuillez consulter la [documentation React](https://fr.reactjs.org/docs/state-and-lifecycle.html) pour plus de détails.

:::info instructions
Il y a un élément `button` dans l'éditeur de code qui a un gestionnaire `onClick()`. Ce gestionnaire est déclenché lorsque `button` reçoit un événement click dans le navigateur et exécute la méthode `handleClick` définie sur `MyComponent`. Dans la méthode `handleClick`, mettez à jour le composant `state` à l'aide de `this.setState()`. Définissez la propriété `name` dans `state` pour qu'elle soit égale à la chaîne `React Rocks!`.<br />
Cliquez sur le bouton et regardez la mise à jour de l'état rendu. Ne vous inquiétez pas si vous ne comprenez pas parfaitement comment le code du gestionnaire de clics fonctionne à ce stade. C'est couvert dans les défis à venir.
:::

:::tip missions
- L'état de `MyComponent` doit s'initialiser avec la paire clé/valeur `{name: Initial State}`.
- `MyComponent` doit afficher un en-tête `h1`.
- L'en-tête `h1` rendu doit contenir du texte rendu à partir de l'état du composant.
- L'appel de la méthode `handleClick` sur `MyComponent` doit définir la propriété `name` dans `state` sur une valeur égale à `React Rocks!`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
class MyComponent extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      name: 'Initial State'
    };
    this.handleClick = this.handleClick.bind(this);
  }
  handleClick() {

    this.setState({
      name: 'React Rocks!'
    })

  }
  render() {
    return (
      <div>
        <button onClick={this.handleClick}>Click Me</button>
        <h1>{this.state.name}</h1>
      </div>
    );
  }
};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-24a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-set-state-with-this-setstate/301412)

-----



## 25. Lier `this` à une méthode de classe

[Learn React: Bind 'this' to a Class Method | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/bind-this-to-a-class-method)

En plus de définir et de mettre à jour `state`, vous pouvez également définir des méthodes pour votre classe de composant. Une méthode de classe doit généralement utiliser le mot-clé `this` pour pouvoir accéder aux propriétés de la classe (telles que `state` et `props`) dans la portée de la méthode. Il existe plusieurs façons d'autoriser vos méthodes de classe d'accéder à `this`.<br />
Une manière courante consiste à lier explicitement `this` dans le constructeur afin que `this` devienne lié aux méthodes de classe lorsque le composant est initialisé. Vous avez peut-être remarqué que le dernier défi utilisait `this.handleClick = this.handleClick.bind(this)` pour sa méthode `handleClick` dans le constructeur. Ensuite, lorsque vous appelez une fonction comme `this.setState()` dans votre méthode de classe, `this` fait référence à la classe et ne sera pas indéfini.<br />
**Remarque :** le mot-clé `this` est l'un des aspects les plus déroutants de JavaScript, mais il joue un rôle important dans React. Bien que son comportement ici soit tout à fait normal, ces leçons ne sont pas le lieu d'un examen approfondi de `this`, veuillez donc vous référer à d'autres leçons si ce qui précède est déroutant !

:::info instructions
L'éditeur de code a un composant avec un `state` qui assure le suivi du texte. Il dispose également d'une méthode qui vous permet de définir le texte sur `"You clicked!"`. Cependant, la méthode ne fonctionne pas car elle utilise le mot clé `this` qui n'est pas défini. Corrigez-le en liant explicitement `this` à la méthode `handleClick()` dans le constructeur du composant.<br />
Ensuite, ajoutez un gestionnaire de clic à l'élément `button` dans la méthode de rendu. Il doit déclencher la méthode `handleClick()` lorsque le bouton reçoit un événement click. N'oubliez pas que la méthode que vous passez au gestionnaire `onClick` a besoin d'accolades car elle doit être interprétée directement comme JavaScript.<br />
Une fois que vous avez terminé les étapes ci-dessus, vous devriez pouvoir cliquer sur le bouton et voir `You clicked!`.
:::

:::tip missions
- `MyComponent` doit renvoyer un élément `div` qui encapsule deux éléments, un bouton et un élément `h1`, dans cet ordre.
- L'état de `MyComponent` doit s'initialiser avec la paire clé/valeur `{text: "Hello"}`.
- En cliquant sur l'élément `button`, vous devez exécuter la méthode `handleClick` et définir l'état `state` sur `"You clicked!"`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
class MyComponent extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      text: "Hello"
    };

    this.handleClick = this.handleClick.bind(this);

  }
  handleClick() {
    this.setState({
      text: "You clicked!"
    });
  }
  render() {
    return (
      <div>

        <button onClick={this.handleClick}>Click Me</button>

        <h1>{this.state.text}</h1>
      </div>
    );
  }
};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-25a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-bind-this-to-a-class-method/301379)

:::note guide : Lier `this` à une méthode de classe
### Explication du problème

Si une méthode sur une `class` JavaScript doit accéder à un `state` interne de l'instance, comme `this.state`, la méthode doit être liée à l'instance de `class`. Une description plus détaillée de 'this' peut être trouvée [ici](https://www.freecodecamp.org/news/javascript-this-keyword-binding-rules/) (The JavaScript `this` Keyword + 5 Key Binding Rules Explained for JS Beginners (freecodecamp.org)).

### Astuces
#### Indice

Comme beaucoup de choses en programmation, il y a plus d'une façon de lier cela. Pour ce défi, nous allons nous en tenir à la liaison du constructeur.

```jsx
class MyClass {
  constructor() {
    this.myMethod = this.myMethod.bind(this);
  }

  myMethod() {
    // whatever myMethod does
  }
}
```

:::

-----



## 26. Utiliser l'état pour basculer un élément

[Learn React: Use State to Toggle an Element | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/use-state-to-toggle-an-element)

Parfois, vous devrez peut-être connaître l'état précédent lors de la mise à jour de l'état. Cependant, les mises à jour d'état peuvent être asynchrones - cela signifie que React peut regrouper plusieurs appels `setState()` en une seule mise à jour. Cela signifie que vous ne pouvez pas vous fier à la valeur précédente de `this.state` ou `this.props` lors du calcul de la valeur suivante. Donc, vous ne devriez pas utiliser de code comme celui-ci :

```jsx
this.setState({
  counter: this.state.counter + this.props.increment
});
```

Au lieu de cela, vous devez transmettre à `setState` une fonction qui vous permet d'accéder à l'état et aux accessoires. L'utilisation d'une fonction avec `setState` garantit que vous travaillez avec les valeurs les plus récentes de `state` et `props`. Cela signifie que ce qui précède doit être réécrit comme suit :

```jsx
this.setState((state, props) => ({
  counter: state.counter + props.increment
}));
```

Vous pouvez également utiliser une forme sans `props` si vous n'avez besoin que de `state` :

```jsx
this.setState(state => ({
  counter: state.counter + 1
}));
```

Notez que vous devez placer l'objet littéral entre parenthèses, sinon JavaScript pense que c'est un bloc de code.

:::info instructions
`MyComponent` a une propriété `visibility` qui est initialisée à `false`. La méthode render renvoie une vue si la valeur de `visibility` est vraie et une vue différente si elle est fausse.<br />
Actuellement, il n'existe aucun moyen de mettre à jour la propriété de `visibility` dans le `state` du composant. La valeur doit basculer entre vrai et faux. Il existe un gestionnaire de clics sur le bouton qui déclenche une méthode de classe appelée `toggleVisibility()`. Passez une fonction à `setState` pour définir cette méthode afin que `state` de `visibility` passe à la valeur opposée lorsque la méthode est appelée. Si `visibility` est `false`, la méthode la définit sur `true` et vice versa.<br />
Enfin, cliquez sur le bouton pour voir le rendu conditionnel du composant en fonction de `state`.<br />
**Astuce :** n'oubliez pas de lier le mot-clé `this` à la méthode dans le constructeur !
:::

:::tip missions
- `MyComponent` doit renvoyer un élément `div` contenant un `button`.
- L'état de `MyComponent` doit s'initialiser avec une propriété `visibility` définie sur `false`.
- Le fait de cliquer sur l'élément de bouton doit faire basculer la propriété `visibility` dans l'état entre `true` et `false`.
- Une fonction anonyme doit être transmise à `setState`.
- `this` ne doit pas être utilisé dans `setState`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
class MyComponent extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      visibility: false
    };

    this.toggleVisibility = this.toggleVisibility.bind(this);

  }

  toggleVisibility() {
    this.setState(state => {
      if (state.visibility === true) {
         return { visibility: false };
       } else {
         return { visibility: true };
      }
    });
  }

  render() {
    if (this.state.visibility) {
      return (
        <div>
          <button onClick={this.toggleVisibility}>Click Me</button>
          <h1>Now you see me!</h1>
        </div>
      );
    } else {
      return (
        <div>
          <button onClick={this.toggleVisibility}>Click Me</button>
        </div>
      );
    }
  }
}
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-26a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-use-state-to-toggle-an-element/301421)

-----



## 27. Écrire un compteur simple

[Learn React: Write a Simple Counter | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/write-a-simple-counter)

Vous pouvez concevoir un composant avec état plus complexe en combinant les concepts abordés jusqu'à présent. Celles-ci incluent l'initialisation de `state`, l'écriture de méthodes qui définissent `state` et l'affectation de gestionnaires de clic pour déclencher ces méthodes.

:::info instructions
Le composant `Counter` effectue le suivi d'une valeur `count` dans `state`. Il y a deux boutons qui appellent les méthodes `increment()` et `decrement()`. Ecrivez ces méthodes de sorte que la valeur du compteur soit incrémentée ou décrémentée de 1 lorsque le bouton approprié est cliqué. Créez également une méthode `reset()` pour que lorsque le bouton de réinitialisation est cliqué, le nombre est défini sur 0.<br />
**Remarque :** Assurez-vous de ne pas modifier les `className` des boutons. N'oubliez pas non plus d'ajouter les liaisons nécessaires pour les méthodes nouvellement créées dans le constructeur.
:::

:::tip missions
- `Counter` doit renvoyer un élément `div` qui contient trois boutons avec un contenu textuel dans cet ordre `Incrément!`, `Decrement!`, `Reset`.
- L'état de `Counter` doit s'initialiser avec une propriété `count` définie sur `0`.
- Cliquer sur le bouton d'incrémentation devrait incrémenter le nombre de `1`.
- Cliquez sur le bouton de décrémentation pour décrémenter le décompte de `1`.
- Cliquez sur le bouton de réinitialisation pour réinitialiser le nombre à `0`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
class Counter extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      count: 0
    };

    this.increment = this.increment.bind(this);
    this.decrement = this.decrement.bind(this);
    this.reset = this.reset.bind(this);
  }

  increment() {
    this.setState(state => ({ count: state.count + 1
    }));
  };
  decrement() {
    this.setState(state => ({ count: state.count - 1
    }));
  };
  reset() {
    this.setState({
      count: 0
    });
  };

  render() {
    return (
      <div>
        <button className='inc' onClick={this.increment}>Increment!</button>
        <button className='dec' onClick={this.decrement}>Decrement!</button>
        <button className='reset' onClick={this.reset}>Reset</button>
        <h1>Current Count: {this.state.count}</h1>
      </div>
    );
  }
};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-27a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-write-a-simple-counter/301425)

:::note guide : Écrire un compteur simple
### Astuces
#### Indice

```jsx
class Counter extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      count: 0
    };
    // changer le code sous cette ligne
        // Souvenez-vous du défi précédent.
        // Liez 'this' pour chacune de ces trois méthodes (increment (), decrement () et reset ()).
    // changer le code au-dessus de cette ligne
  }
  // changer le code sous cette ligne
        // Définissez ces trois méthodes ici.
        // Dans ces méthodes, appelez la méthode 'setState ()' pour mettre à jour les données de l'état du constructeur.
  // changer le code au-dessus de cette ligne
  render() {
    return (
      <div>
        <button className='inc' onClick={this.increment}>Increment!</button>
        <button className='dec' onClick={this.decrement}>Decrement!</button>
        <button className='reset' onClick={this.reset}>Reset</button>
        <h1>Current Count: {this.state.count}</h1>
      </div>
    );
  }
};
```

:::

-----



## 28. Créer une entrée contrôlée

[Learn React: Create a Controlled Input | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/create-a-controlled-input)

Votre application peut avoir des interactions plus complexes entre `state` et l'interface utilisateur rendue. Par exemple, les éléments de contrôle de formulaire pour la saisie de texte, tels que `input` et `textarea`, conservent leur propre état dans le DOM au fur et à mesure que l'utilisateur tape. Avec React, vous pouvez déplacer cet état mutable dans le `state` d'un composant React. L'entrée de l'utilisateur fait partie de l'application `state`, donc React contrôle la valeur de ce champ d'entrée. En règle générale, si vous avez des composants React avec des champs de saisie dans lesquels l'utilisateur peut taper, il s'agira d'un formulaire de saisie contrôlé.

:::info instructions
L'éditeur de code a le squelette d'un composant appelé `ControlledInput` pour créer un élément `input` contrôlé. Le `state` du composant est déjà initialisé avec une propriété `input` qui contient une chaîne vide. Cette valeur représente le texte qu'un utilisateur tape dans le champ `input`.<br />
Tout d'abord, créez une méthode appelée `handleChange()` qui a un paramètre appelé `event`. Lorsque la méthode est appelée, elle reçoit un objet `event` qui contient une chaîne de texte de l'élément `input`. Vous pouvez accéder à cette chaîne avec `event.target.value` dans la méthode. Mettez à jour la propriété `input` de `state` du composant avec cette nouvelle chaîne.<br />
Dans la méthode de rendu, créez l'élément `input` au-dessus de la balise `h4`. Ajoutez un attribut `value` qui est égal à la propriété `input` du `state` du composant. Ajoutez ensuite un gestionnaire d'événements `onChange()` défini à la méthode `handleChange()`.<br />
Lorsque vous tapez dans la zone de saisie, ce texte est traité par la méthode `handleChange()`, défini comme propriété `input` dans le `state` local et rendu comme valeur dans la zone `input` de la page. Le composant `state` est la seule source de vérité concernant les données d'entrée.<br />
Enfin, n'oubliez pas d'ajouter les liaisons nécessaires dans le constructeur.
:::

:::tip missions
- `ControlledInput` doit retourner un élément `div` qui contient une `input` et une balise `p`.
- L'état de `ControlledInput` doit s'initialiser avec une propriété `input` définie sur une chaîne vide.
- La saisie de l'élément d'entrée doit mettre à jour l'état et la valeur de l'entrée, et l'élément `p` doit rendre cet état à mesure que vous tapez.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
class ControlledInput extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      input: ''
    };

    this.handleChange = this.handleChange.bind(this);
  }

  handleChange(event) {
    this.setState({
      input: event.target.value
    });
  }

  render() {
    return (
      <div>

        <input value={this.state.input} onChange={this.handleChange}/>

        <h4>Controlled Input:</h4>
        <p>{this.state.input}</p>
      </div>
    );
  }
};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-28a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-create-a-controlled-input/301385)

:::note guide : Créer une entrée contrôlée
### Explication du problème
Ici, l'idée est de créer une entrée contrôlée où le texte est mis à jour à partir de votre état, et non du navigateur.<br />
Donc, pour commencer, nous avons un squelette dans lequel nous avons une classe nommée `ControlledInput` et une variable d'état nommée `input`. Maintenant, tout ce que vous avez à faire est de prendre cet état et lorsqu'un changement dans la zone de saisie est observé, déclenchez une fonction qui change la valeur à l'intérieur de cette zone de saisie et dans le paragraphe en dessous.<br />
Donc, votre première étape sera de créer une fonction qui change l'état de la variable `input`.

```jsx
handleChange(event) {
    this.setState({
      input: event.target.value
    });
}
```

Maintenant, votre prochaine étape consistera à créer une zone de saisie et à la déclencher lorsque quelqu'un tape quelque chose. Heureusement, nous avons un événement appelé `onChange()` pour atteindre cet objectif.<br />
PS - Voici une autre façon de lier `this` dans une fonction

```jsx
<input onChange = {this.handleChange.bind(this)}/>
```

Mais cela ne servira tout simplement pas votre objectif. Bien que vous puissiez penser que cela fonctionne. Donc, ce qui se passe ici, ce sont les mises à jour textuelles du navigateur et non l'état. Donc, pour corriger cela, nous allons ajouter un attribut `value` et le définir sur `this.state.input` à l'élément `input`, ce qui fera que l'entrée sera contrôlée par l'état.

```jsx
<input value = {this.state.input} onChange = {this.handleChange.bind(this)}/>
```

Cela peut être un peu difficile à digérer, mais pour clarifier les choses, essayez de supprimer tout le truc `onChange` pour que votre code ressemble à ceci :

```jsx
<input value = {this.state.input}/>
```

Maintenant, relancez les tests, pouvez-vous taper quelque chose ?<br />
La réponse sera « NON » puisque votre zone de saisie obtient une valeur de l'entrée de variable `input` car il n'y a pas de changement dans l'état de `input` (une chaîne vide au départ) qui ne se produira que lorsque vous déclencherez la fonction `handleChange()` qui ne se produit que lorsque vous avez un gestionnaire d'événements comme `onChange()` donc la chaîne à l'intérieur de la zone de saisie restera telle quelle, c'est-à-dire une chaîne vide.
:::

-----



## 29. Créer un formulaire contrôlé

[Learn React: Create a Controlled Form | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/create-a-controlled-form)

Le dernier défi a montré que React peut contrôler l'état interne de certains éléments tels que `input` et `textarea`, ce qui en fait des composants contrôlés. Cela s'applique également à d'autres éléments de formulaire, y compris l'élément HTML standard `form`.

:::info instructions
Le composant `MyForm` est configuré avec un `form` vide avec un gestionnaire d'envoi. Le gestionnaire d'envoi sera appelé lorsque le formulaire sera soumis.<br />
Nous avons ajouté un bouton qui soumet le formulaire. Vous pouvez voir qu'il a le `type` défini pour `submit`, indiquant qu'il s'agit du bouton contrôlant le formulaire. Ajoutez l'élément `input` dans le `form` et définissez ses attributs `value` et `onChange()` comme le dernier défi. Vous devez ensuite terminer la méthode `handleSubmit` afin qu'elle définisse la propriété d'état du composant `submit` à la valeur d'entrée actuelle dans le `state` local.<br />
**Remarque :** Vous devez également appeler `event.preventDefault()` dans le gestionnaire d'envoi, pour empêcher le comportement d'envoi de formulaire par défaut qui actualisera la page Web.<br />
Enfin, créez une balise `h1` après le `form` qui restitue la valeur de `submit` à partir du `state` du composant. Vous pouvez ensuite taper le formulaire et cliquer sur le bouton (ou appuyer sur Entrée), et vous devriez voir votre entrée rendue sur la page.
:::

:::tip missions
- `MyForm` doit retourner un élément `div` qui contient un `form` et une balise `h1`. Le formulaire doit inclure une `input` et un `button`.
- L'état de `MyForm` doit s'initialiser avec les propriétés `input` et `submit`, toutes deux définies sur des chaînes vides.
- La saisie de l'élément `input` doit mettre à jour la propriété `input` de l'état du composant.
- La soumission du formulaire doit exécuter `handleSubmit` qui doit définir la propriété `submit` dans un état égal à l'entrée courante.
- L'en-tête `h1` doit rendre la valeur du champ `submit` à partir de l'état du composant.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
class MyForm extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      input: '',
      submit: ''
    };
    this.handleChange = this.handleChange.bind(this);
    this.handleSubmit = this.handleSubmit.bind(this);
  }
  handleChange(event) {
    this.setState({
      input: event.target.value
    });
  }
  handleSubmit(event) {
    event.preventDefault()
    this.setState({
      submit: this.state.input
    });
  }
  render() {
    return (
      <div>
        <form onSubmit={this.handleSubmit}>
          <input value={this.state.input} onChange={this.handleChange}/>
          <button type='submit'>Submit!</button>
        </form>
      <h1>{this.state.submit}</h1>
      </div>
    );
  }
}
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-29a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-create-a-controlled-form/301384)

-----



## 30. Passer l'état comme accessoires aux composants enfants

[Learn React: Pass State as Props to Child Components | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/pass-state-as-props-to-child-components)

Vous avez vu de nombreux exemples qui ont transmis des accessoires aux éléments JSX enfants et aux composants React enfants dans les défis précédents. Vous vous demandez peut-être d'où viennent ces accessoires. Un modèle courant consiste à avoir un composant avec état contenant le `state` important pour votre application, qui restitue ensuite les composants enfants. Vous voulez que ces composants aient accès à certaines parties de ce `state`, qui sont transmises comme accessoires.<br />
Par exemple, vous avez peut-être un composant `App` qui rend une `Navbar`, entre autres composants. Dans votre `App`, vous avez un `state` qui contient beaucoup d'informations sur l'utilisateur, mais la `Navbar` n'a besoin que d'accéder au nom d'utilisateur de l'utilisateur pour pouvoir l'afficher. Vous transmettez ce `state` au composant `Navbar` en tant que accessoire.<br />
Ce modèle illustre certains paradigmes importants de React. Le premier est le *flux de données unidirectionnel*. L'état circule dans une direction dans l'arborescence des composants de votre application, du composant parent avec état aux composants enfants. Les composants enfants ne reçoivent que les données d'état dont ils ont besoin. La seconde est que les applications avec état complexes peuvent être décomposées en quelques composants, ou peut-être en un seul composant avec état. Le reste de vos composants reçoit simplement l'état du parent en tant qu'accessoires et affiche une interface utilisateur à partir de cet état. Il commence à créer une séparation où la gestion de l'état est gérée dans une partie du code et le rendu de l'interface utilisateur dans une autre. Ce principe de séparation de la logique d'état de la logique de l'interface utilisateur est l'un des principes clés de React. Lorsqu'il est utilisé correctement, il rend la conception d'applications complexes et avec état beaucoup plus facile à gérer.

:::info instructions

Le composant `MyApp` est avec état et rend un composant `Navbar` en tant qu'enfant. Transmettez la propriété `name` dans son `state` au composant enfant, puis affichez `name` dans la balise `h1` qui fait partie de la méthode de rendu `Navbar`. `name` doit apparaître après le texte `Hello, my name is:`.
:::

:::tip missions
- Le composant `MyApp` doit être rendu avec un composant `Navbar` à l'intérieur.
- Le composant `Navbar` doit recevoir l'état de la propriété `name` de `MyApp` comme accessoires.
- L'élément `h1` dans `Navbar` doit rendre le prop `name`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
class MyApp extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      name: 'CamperBot'
    }
  }
  render() {
    return (
       <div>
         <Navbar name={this.state.name}/>
       </div>
    );
  }
};

class Navbar extends React.Component {
  constructor(props) {
    super(props);
  }
  render() {
    return (
    <div>
      <h1>Hello, my name is: {this.props.name}</h1>
    </div>
    );
  }
};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-30a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-pass-state-as-props-to-child-components/301403)

-----



## 31. Passer un rappel comme accessoires

[Learn React: Pass a Callback as Props | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/pass-a-callback-as-props)

Vous pouvez transmettre le `state` comme accessoires aux composants enfants, mais vous n'êtes pas limité à la transmission de données. Vous pouvez également transmettre des fonctions de gestionnaire ou toute méthode définie sur un composant React à un composant enfant. C'est ainsi que vous autorisez les composants enfants à interagir avec leurs composants parents. Vous passez des méthodes à un enfant comme un accessoire ordinaire. Un nom lui est attribué et vous avez accès à ce nom de méthode sous `this.props` dans le composant enfant.

:::info instructions
Il existe trois composants décrits dans l'éditeur de code. Le composant `MyApp` est le parent qui rendra les composants enfants `GetInput` et `RenderInput`. Ajoutez le composant `GetInput` à la méthode de rendu dans `MyApp`, puis transmettez-lui un accessoire appelé `input` affecté à `inputValue` à partir du `state` de `MyApp`. Créez également un accessoire appelé `handleChange` et passez-lui le gestionnaire d'entrée `handleChange`.<br />
Ensuite, ajoutez `RenderInput` à la méthode de rendu dans `MyApp`, puis créez un accessoire appelé `input` et transmettez-lui `inputValue` du `state`. Une fois que vous avez terminé, vous pourrez taper dans le champ `input` du composant `GetInput`, qui appelle ensuite la méthode du gestionnaire dans son parent via des accessoires. Cela met à jour l'entrée dans le `state` du parent, qui est passé comme accessoires aux deux enfants. Observez comment les données circulent entre les composants et comment la source unique de vérité reste le `state` du composant parent. Certes, cet exemple est un peu artificiel, mais devrait servir à illustrer comment les données et les rappels peuvent être passés entre les composants React.
:::

:::tip missions
- Le composant `MyApp` doit être rendu.
- Le composant `GetInput` doit être rendu.
- Le composant `RenderInput` doit être rendu.
- Le composant `GetInput` doit recevoir la propriété d'état `MyApp` `inputValue` comme accessoires et contenir un élément `input` qui modifie l'état `MyApp`.
- Le composant `RenderInput` doit recevoir la propriété d'état `MyApp` `inputValue` comme accessoires.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
class MyApp extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      inputValue: ''
    }
    this.handleChange = this.handleChange.bind(this);
  }
  handleChange(event) {
    this.setState({
      inputValue: event.target.value
    });
  }
  render() {
    return (
       <div>
        <GetInput
        input={this.state.inputValue}
        handleChange={this.handleChange}/>
        <RenderInput
        input={this.state.inputValue}/>
       </div>
    );
  }
};

class GetInput extends React.Component {
  constructor(props) {
    super(props);
  }
  render() {
    return (
      <div>
        <h3>Get Input:</h3>
        <input
          value={this.props.input}
          onChange={this.props.handleChange}/>
      </div>
    );
  }
};

class RenderInput extends React.Component {
  constructor(props) {
    super(props);
  }
  render() {
    return (
      <div>
        <h3>Input Render:</h3>
        <p>{this.props.input}</p>
      </div>
    );
  }
};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-31a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-pass-a-callback-as-props/301400)

:::note guide : Passer un rappel comme accessoires
#### Liens pertinents
- [État et cycle de vie](https://fr.reactjs.org/docs/state-and-lifecycle.html)
- [Composants et props](https://fr.reactjs.org/docs/components-and-props.html)
:::

-----



## 32. Utilisez la méthode de cycle de vie `componentWillMount`

[Learn React: Use the Lifecycle Method componentWillMount | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/use-the-lifecycle-method-componentwillmount)

Les composants React ont plusieurs méthodes spéciales qui offrent la possibilité d'effectuer des actions à des moments spécifiques du cycle de vie d'un composant. Ces méthodes sont appelées méthodes de cycle de vie, ou hooks de cycle de vie, et vous permettent de capturer des composants à certains moments. Cela peut être avant qu'ils ne soient rendus, avant leur mise à jour, avant qu'ils ne reçoivent les accessoires, avant qu'ils ne soient démontés, etc. Voici une liste de certaines des principales méthodes de cycle de vie : `componentWillMount()` `componentDidMount()` `shouldComponentUpdate()` `componentDidUpdate()` `componentWillUnmount()`. Les prochaines leçons couvriront certains des cas d'utilisation de base de ces méthodes de cycle de vie.<br />
**Remarque :** La méthode `componentWillMount` Lifecycle sera obsolète dans une future version de 16.X et supprimée dans la version 17. ([Source](https://fr.reactjs.org/blog/2018/03/27/update-on-async-rendering.html))

:::info instructions
La méthode `componentWillMount()` est appelée avant la méthode `render()` lorsqu'un composant est monté sur le DOM. Enregistrez quelque chose dans la console dans `componentWillMount()` - vous voudrez peut-être ouvrir la console de votre navigateur pour voir la sortie.
:::

:::tip missions
- `MyComponent` doit rendre un élément `div`.
- `console.log` doit être appelé dans `componentWillMount`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
class MyComponent extends React.Component {
  constructor(props) {
    super(props);
  }
  componentWillMount() {
    console.log('something');
  }
  render() {
    return <div />
  }
};
```

</div>
<div class="code-col__item35-html">

```shell title="shell"
something
```

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-use-the-lifecycle-method-componentwillmount/301423)

-----



## 33. Utilisez la méthode de cycle de vie `componentDidMount`

[Learn React: Use the Lifecycle Method componentDidMount | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/use-the-lifecycle-method-componentdidmount)

La plupart des développeurs Web, à un moment donné, doivent appeler un point de terminaison d'API pour récupérer des données. Si vous travaillez avec React, il est important de savoir où effectuer cette action.<br />
La meilleure pratique avec React consiste à placer des appels d'API ou des appels à votre serveur dans la méthode de cycle de vie `componentDidMount()`. Cette méthode est appelée après le montage d'un composant sur le DOM. Tout appel à `setState()` ici déclenchera un nouveau rendu de votre composant. Lorsque vous appelez une API dans cette méthode et définissez votre état avec les données renvoyées par l'API, elle déclenchera automatiquement une mise à jour une fois que vous recevrez les données.

:::info instructions
Il y a un appel d'API simulé dans `componentDidMount()`. Il définit l'état après 2,5 secondes pour simuler l'appel d'un serveur pour récupérer des données. Cet exemple demande le nombre total d'utilisateurs actifs actuels pour un site. Dans la méthode de rendu, affichez la valeur de `activeUsers` dans le `h1` après le texte `Active Users:`. Regardez ce qui se passe dans l'aperçu et n'hésitez pas à modifier le délai pour voir les différents effets.
:::

:::tip missions
- `MyComponent` devrait rendre un élément `div` qui encapsule une balise `h1`.
- L'état du composant doit être mis à jour avec une fonction de délai d'expiration dans `componentDidMount`.
- La balise `h1` doit rendre la valeur `activeUsers` à partir de l'état de `MyComponent`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
class MyComponent extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      activeUsers: null
    };
  }
  componentDidMount() {
    setTimeout(() => {
      this.setState({
        activeUsers: 1273
      });
    }, 2500);
  }
  render() {
    return (
      <div>
        <h1>Active Users: {this.state.activeUsers}</h1>
      </div>
    );
  }
}
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-33a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-use-the-lifecycle-method-componentdidmount/301422)

:::note guide : Utilisez la méthode de cycle de vie `componentDidMount`
### Explication du problème
Ce défi présente la méthode de cycle de vie `componentDidMount`. Ceci est utilisé pour définir l'état après une période donnée.<br />
La syntaxe de la méthode est :

```jsx
componentDidMount() {
    setTimeout( () => {
      this.setState({
        one: 1,
        two: false
      });
    }, interval);
  }
```

où `one` et `two` sont les états que vous souhaitez définir après `interval` ms.
:::

-----



## 34. Ajouter des écouteurs d'événements

[Learn React: Add Event Listeners | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/add-event-listeners)

La méthode `componentDidMount()` est également le meilleur endroit pour attacher les écouteurs d'événements que vous devez ajouter pour des fonctionnalités spécifiques. React fournit un système d'événements synthétiques qui encapsule le système d'événements natif présent dans les navigateurs. Cela signifie que le système d'événements synthétiques se comporte exactement de la même manière quel que soit le navigateur de l'utilisateur - même si les événements natifs peuvent se comporter différemment d'un navigateur à l'autre.<br />
Vous avez déjà utilisé certains de ces gestionnaires d'événements synthétiques tels que `onClick()`. Le système d'événements synthétiques de React est idéal à utiliser pour la plupart des interactions que vous gérerez sur les éléments DOM. Cependant, si vous souhaitez attacher un gestionnaire d'événements aux objets de document ou de fenêtre, vous devez le faire directement.

:::info instructions
Attachez un écouteur d'événements dans la méthode `componentDidMount()` pour les événements `keydown` et faites en sorte que ces événements déclenchent le rappel `handleKeyPress()`. Vous pouvez utiliser `document.addEventListener()` qui prend l'événement (entre guillemets) comme premier argument et le rappel comme deuxième argument.<br />
Ensuite, dans `componentWillUnmount()`, supprimez ce même écouteur d'événement. Vous pouvez transmettre les mêmes arguments à `document.removeEventListener()`. Il est recommandé d'utiliser cette méthode de cycle de vie pour effectuer tout nettoyage des composants React avant qu'ils ne soient démontés et détruits. La suppression des écouteurs d'événements est un exemple d'une telle action de nettoyage.
:::

:::tip missions
- `MyComponent` devrait rendre un élément `div` qui encapsule une balise `h1`.
- Un écouteur keydown doit être attaché au document dans `componentDidMount`.
- L'écouteur keydown doit être supprimé du document dans `componentWillUnmount`.
- Une fois le composant monté, appuyez sur Entrée pour mettre à jour son état et la balise `h1` rendue.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
class MyComponent extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      message: ''
    };
    this.handleEnter = this.handleEnter.bind(this);
    this.handleKeyPress = this.handleKeyPress.bind(this);
  }

  componentDidMount() {
    document.addEventListener("keydown", this.handleKeyPress);
  }

  componentWillUnmount() {
    document.removeEventListener("keydown", this.handleKeyPress);
  }

  handleEnter() {
    this.setState((state) => ({
      message: state.message + 'You pressed the enter key! '
    }));
  }
  handleKeyPress(event) {
    if (event.keyCode === 13) {
      this.handleEnter();
    }
  }
  render() {
    return (
      <div>
        <h1>{this.state.message}</h1>
      </div>
    );
  }
};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-34a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-add-event-listeners/301377)

:::note guide : Ajouter des écouteurs d'événements
### Explication du problème

Ce défi vous oblige à modifier deux méthodes de cycle de vie `componentDidMount` et `componentWillUnmount`. Vous utilisez `componentDidMount` lorsque vous souhaitez configurer quelque chose, dans votre cas, un écouteur d'événements. Vous utilisez `componentWillUnmount` lorsque vous devez effacer ce quelque chose, votre écouteur d'événement.<br />
Vous allez ajouter un écouteur d'événement à la méthode `componentDidMount` qui écoutera un événement « keydown ». Utilisez `document.addEventListener(event, function, optional(useCapture))`. Supprimez ensuite ce même écouteur d'événement en passant les mêmes arguments dans `document.removeEventListener(event, function, optional(useCapture)) ` dans la méthode `componentWillUnmount`.<br />
** Remarque :** `document.addEventListener` et `document.removeEventListener` prendront une chaîne entre guillemets pour son événement, et lors de la transmission de la fonction, vous référencerez la fonction `handleKeyPress()` comme `this.handleKeyPress`. Si vous appelez la fonction en tant que `this.handleKeyPress()`, l'écouteur d'événements évaluera d'abord la fonction et transmettra la valeur indéfinie.

#### Liens pertinents

- [React.Component](https://fr.reactjs.org/docs/react-component.html)
- [Cycles de vie communs](https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/)
- [État et cycle de vie](https://fr.reactjs.org/docs/state-and-lifecycle.html)
- [document.addEventListener](https://www.w3schools.com/jsref/met_document_addeventlistener.asp)
- [HTML DOM Events](https://www.w3schools.com/jsref/dom_obj_event.asp)
:::

-----



## 35. Optimiser les rendus avec `shouldComponentUpdate`

[Learn React: Optimize Re-Renders with shouldComponentUpdate | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/optimize-re-renders-with-shouldcomponentupdate)

Jusqu'à présent, si un composant reçoit un nouvel `state` ou de nouveaux `props`, il se restitue lui-même et tous ses enfants. C'est généralement bien. Mais React fournit une méthode de cycle de vie que vous pouvez appeler lorsque les composants enfants reçoivent un nouvel `state` ou `props`, et déclarer spécifiquement si les composants doivent être mis à jour ou non. La méthode est `shouldComponentUpdate()`, et prend `nextProps` et `nextState` comme paramètres.<br />
Cette méthode est un moyen utile d'optimiser les performances. Par exemple, le comportement par défaut est que votre composant effectue un nouveau rendu lorsqu'il reçoit de nouveaux `props`, même si les `props` n'ont pas changé. Vous pouvez utiliser `shouldComponentUpdate()` pour éviter cela en comparant les `props`. La méthode doit renvoyer une valeur `boolean` indiquant à React s'il faut ou non mettre à jour le composant. Vous pouvez comparer les props actuels (`this.props`) aux props suivants (`nextProps`) pour déterminer si vous devez mettre à jour ou non, et renvoyer `true` ou `false` en conséquence.

:::info instructions
La méthode `shouldComponentUpdate()` est ajoutée dans un composant appelé `OnlyEvens`. Actuellement, cette méthode renvoie `true`, donc `OnlyEvens` effectue un nouveau rendu chaque fois qu'il reçoit de nouveaux `props`. Modifiez la méthode pour que `OnlyEvens` ne se mette à jour que si la valeur de ses nouveaux accessoires est paire. Cliquez sur le bouton `Add` et observez l'ordre des événements dans la console de votre navigateur lorsque les hooks de cycle de vie sont déclenchés.
:::

:::tip missions
- Le composant `Controller` doit rendre le composant `OnlyEvens` en tant qu'enfant.
- La méthode `shouldComponentUpdate` doit être définie sur le composant `OnlyEvens`.
- Le composant `OnlyEvens` doit renvoyer une balise `h1` qui rend la valeur de `this.props.value`.
- `OnlyEvens` ne doit être restitué que lorsque `nextProps.value` est pair.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
class OnlyEvens extends React.Component {
  constructor(props) {
    super(props);
  }
  shouldComponentUpdate(nextProps, nextState) {
    console.log('Should I update?');

    return nextProps.value % 2 ? false : true;

  }
  componentDidUpdate() {
    console.log('Component re-rendered.');
  }
  render() {
    return <h1>{this.props.value}</h1>;
  }
}

class Controller extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      value: 0
    };
    this.addValue = this.addValue.bind(this);
  }
  addValue() {
    this.setState(state => ({
      value: state.value + 1
    }));
  }
  render() {
    return (
      <div>
        <button onClick={this.addValue}>Add</button>
        <OnlyEvens value={this.state.value} />
      </div>
    );
  }
}
```
```shell title="shell"
Should I update?
Should I update?
Component re-rendered.
Should I update?
Should I update?
Component re-rendered.
Should I update?
Should I update?
Component re-rendered.
```


</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-35a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-optimize-re-renders-with-shouldcomponentupdate/301398)

-----



## 36. Présentation des styles en ligne

[Learn React: Introducing Inline Styles | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/introducing-inline-styles)

Il existe d'autres concepts complexes qui ajoutent des fonctionnalités puissantes à votre code React. Mais vous vous interrogez peut-être sur le problème plus simple de la façon de styliser les éléments JSX que vous créez dans React. Vous savez probablement que ce ne sera pas exactement la même chose que de travailler avec HTML en raison de la façon dont vous appliquez des classes aux éléments JSX [(5. Définir une class HTML dans JSX)](#5-d%C3%A9finir-une-classe-html-dans-jsx).<br />
Si vous importez des styles à partir d'une feuille de style, ce n'est pas du tout différent. Vous appliquez une classe à votre élément JSX à l'aide de l'attribut `className` et appliquez des styles à la classe dans votre feuille de style. Une autre option consiste à appliquer des styles en ligne, qui sont très courants dans le développement ReactJS.<br />
Vous appliquez des styles en ligne aux éléments JSX de la même manière que vous le faites en HTML, mais avec quelques différences JSX. Voici un exemple de style en ligne en HTML :

`<div style="color: yellow; font-size: 16px">Mellow Yellow</div>`

Les éléments JSX utilisent l'attribut `style`, mais en raison de la façon dont JSX est transpilé, vous ne pouvez pas définir la valeur sur une `string`. Au lieu de cela, vous le définissez comme un `object` JavaScript. Voici un exemple :

`<div style={{color: "yellow", fontSize: 16}}>Mellow Yellow</div>`

Remarquez comment nous camelCase la propriété "fontSize" ? En effet, React n'acceptera pas les clés kebab-case dans l'objet style. React appliquera le nom de propriété correct pour nous dans le HTML.

:::info instructions
- Ajoutez un attribut `style` au `div` dans l'éditeur de code pour donner au texte une couleur rouge et une taille de police de 72 px.
- Notez que vous pouvez éventuellement définir la taille de la police sur un nombre, en omettant les unités « px », ou l'écrire sous la forme "72px".
:::

:::tip missions
- Le composant doit rendre un élément `div`.
- L'élément `div` doit avoir une couleur `red`.
- L'élément `div` doit avoir une taille de police de `72px`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
class Colorful extends React.Component {
  render() {
    return (
      <div style={{color: "red", fontSize: "72px"}}>Big Red</div>
    );
  }
};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-36a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-introducing-inline-styles/301395)

-----



## 37. Ajouter des styles en ligne dans React

[Learn React: Add Inline Styles in React | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/add-inline-styles-in-react)

Vous avez peut-être remarqué dans le dernier défi qu'il y avait plusieurs autres différences de syntaxe par rapport aux styles HTML en ligne en plus de l'attribut `style` défini sur un objet JavaScript. Premièrement, les noms de certaines propriétés de style CSS utilisent la casse camel. Par exemple, le dernier défi a défini la taille de la police avec `fontSize` au lieu de `font-size`. Les mots avec trait d'union tels que `font-size` sont une syntaxe non valide pour les propriétés des objets JavaScript, donc React utilise la casse camel. En règle générale, toutes les propriétés de style avec trait d'union sont écrites en utilisant la casse camel dans JSX.<br />
Toutes les unités de longueur de valeur de propriété (comme `height`, `width` et `fontSize`) sont supposées être en `px`, sauf indication contraire. Si vous voulez utiliser `em`, par exemple, vous mettez la valeur et les unités entre guillemets, comme `{fontSize: "4em"}`. Hormis les valeurs de longueur par défaut `px`, toutes les autres valeurs de propriété doivent être placées entre guillemets.

:::info instructions
Si vous disposez d'un grand ensemble de styles, vous pouvez affecter un `object` style à une constante pour garder votre code organisé. Initialisez une constante `styles` et attribuez-lui un `object` avec trois propriétés de style et leurs valeurs. Donnez à la `div` une couleur de `purple`, une taille de police de `40` et une bordure de `"2px solid purple"`. Ensuite, définissez l'attribut `style` égal à la constante `styles`.

```jsx title="jsx"
// Change code above this line
class Colorful extends React.Component {
  render() {
    // Change code below this line
    return (
      <div style={{color: "yellow", fontSize: 24}}>Style Me!</div>
    );
    // Change code above this line
  }
};
```

:::

:::tip missions
- La variable `styles` doit être un `object` avec trois propriétés.
- La variable `styles` doit avoir une propriété `color` définie sur une valeur de `purple`.
- La variable `styles` doit avoir une propriété `fontSize` définie sur une valeur de `40`.
- La variable `styles` doit avoir une propriété `border` définie sur une valeur de `2px solid purple`.
- Le composant doit rendre un élément `div`.
- L'élément `div` doit avoir ses styles définis par l'objet `styles`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
const styles = {
  color: 'purple',
  fontSize: 40,
  border: "2px solid purple",
};

class Colorful extends React.Component {
  render() {
    return (
      <div style={styles}>Style Me!</div>
    );
  }
};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-37a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-add-inline-styles-in-react/301378)

:::note guide : Ajouter des styles en ligne dans React
#### Liens pertinents

- [Style des éléments DOM](https://fr.reactjs.org/docs/dom-elements.html#style)
:::

-----



## 38. Utiliser JavaScript avancé dans la méthode de rendu React

[Learn React: Use Advanced JavaScript in React Render Method | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/use-advanced-javascript-in-react-render-method)

Dans les défis précédents, vous avez appris à injecter du code JavaScript dans le code JSX à l'aide d'accolades, `{ }`, pour des tâches telles que l'accès aux accessoires, la transmission d'accessoires, l'accès à l'état, l'insertion de commentaires dans votre code et, plus récemment, la mise en forme de vos composants. Ce sont tous des cas d'utilisation courants pour mettre JavaScript dans JSX, mais ils ne sont pas le seul moyen d'utiliser du code JavaScript dans vos composants React.<br />
Vous pouvez également écrire du JavaScript directement dans vos méthodes `render`, avant l'instruction `return`, **sans** l'insérer entre accolades. C'est parce qu'il n'est pas encore dans le code JSX. Lorsque vous souhaitez utiliser une variable ultérieurement dans le code JSX *à l'intérieur* de l'instruction `return`, vous placez le nom de la variable entre accolades.

:::info instructions
Dans le code fourni, la méthode `render` a un tableau qui contient 20 phrases pour représenter les réponses trouvées dans le jouet classique Magic Eight Ball des années 1980. L'événement de clic sur le bouton est lié à la méthode `ask`, donc chaque fois que vous cliquez sur le bouton, un nombre aléatoire sera généré et stocké en tant que `randomIndex` dans l'état. À la ligne 52, supprimez la chaîne `"change me!"` et réaffectez la constante `answer` afin que votre code accède de manière aléatoire à un index différent du tableau `possibleAnswers` à chaque mise à jour du composant. Enfin, insérez la constante `answer` dans les balises `p`.
:::

:::tip missions
- Le composant `MagicEightBall` doit exister et doit être rendu sur la page.
- Le premier enfant de `MagicEightBall` doit être un élément `input`.
- Le troisième enfant de `MagicEightBall` devrait être un élément `button`.
- L'état de `MagicEightBall` doit être initialisé avec une propriété de `userInput` et une propriété de `randomIndex` toutes deux définies sur la valeur d'une chaîne vide.
- Lorsque `MagicEightBall` est monté pour la première fois sur le DOM, il doit renvoyer un élément `p` vide.
- Lorsque du texte est entré dans l'élément `input` et que le bouton est cliqué, le composant `MagicEightBall` doit renvoyer un élément `p` qui contient un élément aléatoire du tableau `possibleAnswers`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
const inputStyle = {
  width: 235,
  margin: 5
};

class MagicEightBall extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      userInput: '',
      randomIndex: ''
    };
    this.ask = this.ask.bind(this);
    this.handleChange = this.handleChange.bind(this);
  }
  ask() {
    if (this.state.userInput) {
      this.setState({
        randomIndex: Math.floor(Math.random() * 20),
        userInput: ''
      });
    }
  }
  handleChange(event) {
    this.setState({
      userInput: event.target.value
    });
  }
  render() {
    const possibleAnswers = [
      'It is certain',
      'It is decidedly so',
      'Without a doubt',
      'Yes, definitely',
      'You may rely on it',
      'As I see it, yes',
      'Outlook good',
      'Yes',
      'Signs point to yes',
      'Reply hazy try again',
      'Ask again later',
      'Better not tell you now',
      'Cannot predict now',
      'Concentrate and ask again',
      "Don't count on it",
      'My reply is no',
      'My sources say no',
      'Most likely',
      'Outlook not so good',
      'Very doubtful'
    ];
    const answer = possibleAnswers[this.state.randomIndex];
    return (
      <div>
        <input
          type='text'
          value={this.state.userInput}
          onChange={this.handleChange}
          style={inputStyle}
        />
        <br />
        <button onClick={this.ask}>Ask the Magic Eight Ball!</button>
        <br />
        <h3>Answer:</h3>
        <p>
          {answer}
        </p>
      </div>
    );
  }
}
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-38a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-use-advanced-javascript-in-react-render-method/301415)

-----



## 39. Rendu avec une condition `if-else`

[Learn React: Render with an If-Else Condition | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/render-with-an-if-else-condition)

Une autre application de l'utilisation de JavaScript pour contrôler votre vue rendue consiste à lier les éléments rendus à une condition. Lorsque la condition est vraie, une vue est rendue. Quand c'est faux, c'est une vue différente. Vous pouvez le faire avec une instruction `if/else` standard dans la méthode `render()` d'un composant React.

:::info instructions
`MyComponent` contient un `boolean` dans son état qui permet de savoir si vous souhaitez afficher un élément dans l'interface utilisateur ou non. Le `button` bascule l'état de cette valeur. Actuellement, il restitue la même interface utilisateur à chaque fois. Réécrivez la méthode `render()` avec une instruction `if/else` de sorte que si `display` est `true`, vous renvoyez le balisage actuel. Sinon, retournez le balisage sans l'élément `h1`.<br />
**Remarque :** vous devez écrire un `if/else` pour réussir les tests. L'utilisation de l'opérateur ternaire ne passera pas ici.
:::

:::tip missions
- `MyComponent` doit exister et être rendu.
- Lorsque `display` est défini sur `true`, un `div`, un `button` et un `h1` doivent être rendus.
- Lorsque `display` est défini sur `false`, seuls un `div` et un `button` doivent être rendus.
- La méthode `render` doit utiliser une instruction `if/else` pour vérifier la condition de `this.state.display`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
class MyComponent extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      display: true
    }
    this.toggleDisplay = this.toggleDisplay.bind(this);
  }
  toggleDisplay() {
    this.setState((state) => ({
      display: !state.display
    }));
  }
  render() {
    if (this.state.display) {
      return (
        <div>
          <button onClick={this.toggleDisplay}>Toggle Display</button>
          <h1>Displayed!</h1>
        </div>
      );
    } else {
      return (
        <div>
          <button onClick={this.toggleDisplay}>Toggle Display</button>
        </div>
      )
    }
  }
};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-39a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-render-with-an-if-else-condition/301410)

-----



## 40. Utilisez `&&` pour un conditionnel plus concis

[Learn React: Use && for a More Concise Conditional | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/use--for-a-more-concise-conditional)

Les instructions `if/else` ont fonctionné dans le dernier défi, mais il existe un moyen plus concis d'obtenir le même résultat. Imaginez que vous suivez plusieurs conditions dans un composant et que vous souhaitez que différents éléments soient rendus en fonction de chacune de ces conditions. Si vous écrivez beaucoup d'instructions `else if` pour renvoyer des interfaces utilisateur légèrement différentes, vous pouvez répéter le code qui laisse place à l'erreur. Au lieu de cela, vous pouvez utiliser l'opérateur logique `&&` pour exécuter une logique conditionnelle de manière plus concise. Cela est possible car vous souhaitez vérifier si une condition est `true` et, si c'est le cas, renvoyer un balisage. Voici un exemple :

`{condition && <p>markup</p>}`

Si `condition` est `true`, le balisage sera retourné. Si la condition est `false`, l'opération retournera immédiatement `false` après avoir évalué la `condition` et ne retournera rien. Vous pouvez inclure ces instructions directement dans votre JSX et enchaîner plusieurs conditions en écrivant `&&` après chacune d'elles. Cela vous permet de gérer une logique conditionnelle plus complexe dans votre méthode `render()` sans répéter beaucoup de code.

:::info instructions
Résolvez à nouveau l'exemple précédent, de sorte que `h1` ne restitue que si `display` est `true`, mais utilisez l'opérateur logique `&&` au lieu d'une instruction `if/else`.
:::

:::tip missions
- `MyComponent` doit exister et être rendu.
- Lorsque `display` est défini sur `true`, un `div`, un `button` et `h1` doivent être rendus.
- Lorsque `display` est défini sur `false`, seuls un `div` et un `button` doivent être rendus.
- La méthode de rendu doit utiliser l'opérateur logique `&&` pour vérifier la condition de `this.state.display`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
class MyComponent extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      display: true
    }
    this.toggleDisplay = this.toggleDisplay.bind(this);
  }
  toggleDisplay() {
    this.setState(state => ({
      display: !state.display
    }));
  }
  render() {
    return (
       <div>
         <button onClick={this.toggleDisplay}>Toggle Display</button>
         {this.state.display && <h1>Displayed!</h1>}
       </div>
    );
  }
};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-40a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-use-for-a-more-concise-conditional/301413)

-----



## 41. Utiliser une expression ternaire pour le rendu conditionnel

[Learn React: Use a Ternary Expression for Conditional Rendering | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/use-a-ternary-expression-for-conditional-rendering)

Avant de passer aux techniques de rendu dynamique, il existe un dernier moyen d'utiliser les conditions JavaScript intégrées pour rendre ce que vous voulez : *l'opérateur ternaire*. L'opérateur ternaire est souvent utilisé comme raccourci pour les instructions `if/else` en JavaScript. Elles ne sont pas aussi robustes que les instructions `if/else` traditionnelles, mais elles sont très populaires parmi les développeurs React. Une raison à cela est à cause de la façon dont JSX est compilé, les instructions `if/else` ne peuvent pas être insérées directement dans le code JSX. Vous avez peut-être remarqué cela il y a quelques difficultés - lorsqu'une instruction `if/else` était requise, elle était toujours en dehors de l'instruction `return`. Les expressions ternaires peuvent être une excellente alternative si vous souhaitez implémenter une logique conditionnelle dans votre JSX. Rappelez-vous qu'un opérateur ternaire comporte trois parties, mais vous pouvez combiner plusieurs expressions ternaires ensemble. Voici la syntaxe de base :

```jsx
condition ? expressionIfTrue : expressionIfFalse;
```

:::info instructions
L'éditeur de code a trois constantes définies dans la méthode `render()` du composant `CheckUserAge`. Ils sont appelés `buttonOne`, `buttonTwo` et `buttonThree`. Chacun de ces éléments se voit attribuer une expression JSX simple représentant un élément de bouton. Tout d'abord, initialisez l'état de `CheckUserAge` avec `input` et `userAge` tous deux définis sur les valeurs d'une chaîne vide.<br />
Une fois que le composant affiche des informations sur la page, les utilisateurs doivent avoir un moyen d'interagir avec lui. Dans l'instruction `return` du composant, définissez une expression ternaire qui implémente la logique suivante : lorsque la page se charge pour la première fois, affichez le bouton d'envoi, `buttonOne`, sur la page. Ensuite, lorsqu'un utilisateur entre son âge et clique sur le bouton, affichez un bouton différent en fonction de l'âge. Si un utilisateur entre un nombre inférieur à `18`, effectuez le rendu `buttonThree`. Si un utilisateur entre un nombre supérieur ou égal à `18`, effectuez le rendu `buttonTwo`.
:::

:::tip missions
- Le composant `CheckUserAge` doit être rendu avec un seul élément `input` et un seul élément `button`.
- L'état du composant `CheckUserAge` doit être initialisé avec une propriété `userAge` et une propriété `input`, toutes deux définies sur une valeur de chaîne vide.
- Lorsque le composant `CheckUserAge` est rendu pour la première fois dans le DOM, le texte interne du `button` doit être `Submit`.
- Lorsqu'un nombre inférieur à 18 est entré dans l'élément `input` et que le `button` est cliqué, le texte interne du `button` doit indiquer `You Shall Not Pass`.
- Lorsqu'un nombre supérieur ou égal à 18 est entré dans l'élément `input` et que le `button` est cliqué, le texte intérieur du `button` doit indiquer `You May Enter`.
- Une fois qu'un numéro a été soumis et que la valeur de `input` est à nouveau modifiée, le `button` doit revenir à la lecture `Submit`.
- Votre code ne doit contenir aucune instruction `if/else`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
const inputStyle = {
  width: 235,
  margin: 5
};

class CheckUserAge extends React.Component {
  constructor(props) {
    super(props);
    // Change code below this line
    this.state = {
      userAge: '',
      input: ''
    }
    // Change code above this line
    this.submit = this.submit.bind(this);
    this.handleChange = this.handleChange.bind(this);
  }
  handleChange(e) {
    this.setState({
      input: e.target.value,
      userAge: ''
    });
  }
  submit() {
    this.setState(state => ({
      userAge: state.input
    }));
  }
  render() {
    const buttonOne = <button onClick={this.submit}>Submit</button>;
    const buttonTwo = <button>You May Enter</button>;
    const buttonThree = <button>You Shall Not Pass</button>;
    return (
      <div>
        <h3>Enter Your Age to Continue</h3>
        <input
          style={inputStyle}
          type='number'
          value={this.state.input}
          onChange={this.handleChange}
        />
        <br />
        {/* Change code below this line */}
        {
        this.state.userAge === ''
          ? buttonOne
          : this.state.userAge >= 18
            ? buttonTwo
            : buttonThree
        }
        {/* Change code above this line */}
      </div>
    );
  }
}
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-41a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-use-a-ternary-expression-for-conditional-rendering/301414)

-----



## 42. Rendu conditionnel à partir des props

[Learn React: Render Conditionally from Props | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/render-conditionally-from-props)

Jusqu'à présent, vous avez vu comment utiliser `if/else`, `&&`, `null` et l'opérateur ternaire (`condition ? ExpressionIfTrue : expressionIfFalse`) pour prendre des décisions conditionnelles sur ce qu'il faut rendre et quand. Cependant, il reste un sujet important à discuter qui vous permet de combiner tout ou partie de ces concepts avec une autre fonctionnalité puissante de React : les props. L'utilisation d'accessoires pour rendre le code conditionnel est très courante chez les développeurs React - c'est-à-dire qu'ils utilisent la valeur d'un accessoire donné pour prendre automatiquement des décisions sur ce qu'il faut rendre.<br />
Dans ce défi, vous allez configurer un composant enfant pour prendre des décisions de rendu basées sur des accessoires. Vous utiliserez également l'opérateur ternaire, mais vous pouvez voir comment plusieurs des autres concepts abordés dans les derniers défis pourraient être tout aussi utiles dans ce contexte.

:::info instructions
L'éditeur de code comporte deux composants qui sont partiellement définis pour vous : un parent appelé `GameOfChance` et un enfant appelé `Results`. Ils sont utilisés pour créer un jeu simple où l'utilisateur appuie sur un bouton pour voir s'il gagne ou perd.<br />
Tout d'abord, vous aurez besoin d'une expression simple qui renvoie aléatoirement une valeur différente à chaque exécution. Vous pouvez utiliser `Math.random()`. Cette méthode renvoie une valeur comprise entre `0` (inclus) et `1` (exclusif) à chaque fois qu'elle est appelée. Donc, pour une cote de 50/50, utilisez `Math.random() = .5` dans votre expression. Statistiquement parlant, cette expression retournera `true` 50% du temps et `false` les autres 50%. Dans la méthode de rendu, remplacez `null` par l'expression ci-dessus pour terminer la déclaration de variable.<br />
Vous avez maintenant une expression que vous pouvez utiliser pour prendre une décision aléatoire dans le code. Ensuite, vous devez l'implémenter. Rendez le composant `Results` en tant qu'enfant de `GameOfChance` et transmettez l'expression en tant qu'élément appelé `fiftyFifty`. Dans le composant `Results`, écrivez une expression ternaire pour rendre l'élément `h1` avec le texte `"You Win!"` ou `"You Lose!"` basé sur l'accessoire `FiftyFifty` transmis par `GameOfChance`. Enfin, assurez-vous que la méthode `handleClick()` compte correctement chaque tour afin que l'utilisateur sache combien de fois il a joué. Cela sert également à informer l'utilisateur que le composant a été mis à jour au cas où il gagnerait ou perdrait deux fois de suite.
:::

:::tip missions
- Le composant `GameOfChance` doit exister et être rendu sur la page.
- `GameOfChance` doit renvoyer un élément `button` unique.
- `GameOfChance` doit renvoyer une seule instance du composant `Results`, qui a un accessoire appelé `fiftyFifty`.
- L'état `GameOfChance` doit être initialisé avec une propriété de `counter` définie sur la valeur `1`.
- Lorsque le composant `GameOfChance` est rendu pour la première fois dans le DOM, un élément `p` doit être renvoyé avec le texte intérieur de `Turn: 1`.
- Chaque fois que l'on clique sur le bouton, l'état du compteur doit être incrémenté d'une valeur de 1, et un seul élément `p` doit être rendu dans le DOM qui contient le texte `"Turn: N"`, où `N` est la valeur de l'état du compteur.
- Lorsque le composant `GameOfChance` est monté pour la première fois sur le DOM et chaque fois que le bouton est cliqué par la suite, un seul élément `h1` doit être renvoyé qui rend aléatoirement soit `You Win!` ou `You Lose!`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
class Results extends React.Component {
  constructor(props) {
    super(props);
  }
  render() {
    {/* Change code below this line */}
    return (
      <h1>
      {this.props.fiftyFifty ? "You Win!" : "You Lose!"}
      </h1>)
    {/* Change code above this line */}
  }
}

class GameOfChance extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      counter: 1
    };
    this.handleClick = this.handleClick.bind(this);
  }
  handleClick() {
    this.setState({
      counter: this.state.counter + 1 // Change this line
    });
  }
  render() {
    const expression = Math.random() >= 0.5 ? true : false // Change this line
    return (
      <div>
        <button onClick={this.handleClick}>Play Again</button>
        {/* Change code below this line */}
        <Results fiftyFifty={expression} />
        {/* Change code above this line */}
        <p>{'Turn: ' + this.state.counter}</p>
      </div>
    );
  }
}
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-42a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-render-conditionally-from-props/301405)

-----



## 43. Modifier le CSS en ligne de manière conditionnelle en fonction de l'état du composant

[Learn React: Change Inline CSS Conditionally Based on Component State | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/change-inline-css-conditionally-based-on-component-state)

À ce stade, vous avez vu plusieurs applications de rendu conditionnel et l'utilisation de styles en ligne. Voici un autre exemple qui combine ces deux sujets. Vous pouvez également afficher le CSS de manière conditionnelle en fonction de l'état d'un composant React. Pour ce faire, vous recherchez une condition et, si cette condition est remplie, vous modifiez l'objet styles affecté aux éléments JSX dans la méthode de rendu.<br />
Ce paradigme est important à comprendre car il s'agit d'un changement radical par rapport à l'approche plus traditionnelle consistant à appliquer des styles en modifiant directement les éléments DOM (ce qui est très courant avec jQuery, par exemple). Dans cette approche, vous devez suivre le moment où les éléments changent et gérer directement la manipulation réelle. Il peut devenir difficile de suivre les modifications, ce qui peut rendre votre interface utilisateur imprévisible. Lorsque vous définissez un objet de style en fonction d'une condition, vous décrivez à quoi l'interface utilisateur doit ressembler en fonction de l'état de l'application. Il existe un flux clair d'informations qui ne se déplace que dans une seule direction. C'est la méthode préférée lors de l'écriture d'applications avec React.

:::info instructions
L'éditeur de code a un composant d'entrée contrôlé simple avec une bordure stylisée. Vous souhaitez donner un style rouge à cette bordure si l'utilisateur tape plus de 15 caractères de texte dans la zone de saisie. Ajoutez une condition pour vérifier cela et, si la condition est valide, définissez le style de bordure d'entrée sur `3px solid red`. Vous pouvez l'essayer en saisissant du texte dans l'entrée.
:::

:::tip missions
- Le composant `GateKeeper` doit rendre un élément `div`.
- Le composant `GateKeeper` doit être initialisé avec une clé d'état `input` définie sur une chaîne vide.
- Le composant `GateKeeper` doit rendre une balise `h3` et une balise `input`.
- La balise `input` doit initialement avoir un style de `1px solid black` pour la propriété `border`.
- La balise `input` doit avoir un style avec une bordure de `3px solid red` si la valeur d'entrée dans l'état est plus longue que 15 caractères.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
class GateKeeper extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      input: ''
    };
    this.handleChange = this.handleChange.bind(this);
  }
  handleChange(event) {
    this.setState({ input: event.target.value })
  }
  render() {
    let inputStyle = {
      border: '1px solid black'
    };
    // Change code below this line
    if (this.state.input.length > 15 ) {
      inputStyle = {
      border: '3px solid red'
      }
    };
    // ou inputStyle.border = '3px solid red';
    // Change code above this line
    return (
      <div>
        <h3>Don't Type Too Much:</h3>
        <input
          type="text"
          style={inputStyle}
          value={this.state.input}
          onChange={this.handleChange} />
      </div>
    );
  }
};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-43a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-change-inline-css-conditionally-based-on-component-state/301380)

-----



## 44. Utilisez `Array.map()` pour effectuer le rendu dynamique des éléments

[Learn React: Use Array.map() to Dynamically Render Elements | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/use-array-map-to-dynamically-render-elements)

Le rendu conditionnel est utile, mais vous pouvez avoir besoin de vos composants pour rendre un nombre inconnu d'éléments. Souvent, dans la programmation réactive, un programmeur n'a aucun moyen de savoir quel est l'état d'une application avant l'exécution, car cela dépend beaucoup de l'interaction d'un utilisateur avec ce programme. Les programmeurs doivent écrire leur code pour gérer correctement cet état inconnu à l'avance. L'utilisation de `Array.map()` dans React illustre ce concept.<br />
Par exemple, vous créez une application simple « To Do List ». En tant que programmeur, vous n'avez aucun moyen de savoir combien d'éléments un utilisateur peut avoir sur sa liste. Vous devez configurer votre composant pour rendre dynamiquement le nombre correct d'éléments de liste bien avant que quelqu'un utilisant le programme décide que c'est aujourd'hui le jour de la lessive.

:::info instructions
L'éditeur de code a mis en place la plupart des composants `MyToDoList`. Une partie de ce code devrait vous sembler familière si vous avez terminé le défi du formulaire contrôlé. Vous remarquerez une `textarea` et un `button`, ainsi que quelques méthodes qui suivent leurs états, mais rien n'est encore rendu sur la page.<br />
Dans le `constructor`, créez un objet `this.state` et définissez deux états : `userInput` doit être initialisé en tant que chaîne vide et `toDoList` doit être initialisé en tant que tableau vide. Ensuite, supprimez le commentaire dans la méthode `render()` à côté de la variable `items`. À sa place, mappez sur le tableau `toDoList` stocké dans l'état interne du composant et affichez dynamiquement un `li` pour chaque élément. Essayez d'entrer la chaîne `eat, code, sleep, repeat` dans la `textarea`, puis cliquez sur le bouton et voyez ce qui se passe.<br />
**Remarque :** vous savez peut-être que tous les éléments enfants frères créés par une opération de mappage comme celle-ci doivent être fournis avec un attribut `key` unique. Ne vous inquiétez pas, c'est le sujet du prochain défi.
:::

:::tip missions
- Le composant `MyToDoList` doit exister et être rendu sur la page.
- Le premier enfant de `MyToDoList` doit être un élément `textarea`.
- Le deuxième enfant de `MyToDoList` doit être un élément `br`.
- Le troisième enfant de `MyToDoList` doit être un élément `button`.
- L'état de `MyToDoList` doit être initialisé avec `toDoList` en tant que tableau vide.
- L'état de `MyToDoList` doit être initialisé avec `userInput` sous la forme d'une chaîne vide.
- Lorsque vous cliquez sur le bouton `Create List`, le composant `MyToDoList` doit renvoyer dynamiquement une liste non ordonnée qui contient une liste d'éléments pour chaque élément d'une liste séparée par des virgules entrée dans l'élément `textarea`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
const textAreaStyles = {
  width: 235,
  margin: 5
};

class MyToDoList extends React.Component {
  constructor(props) {
    super(props);
    // Change code below this line
    this.state = {
      userInput: '',
      toDoList: []
    }
    // Change code above this line
    this.handleSubmit = this.handleSubmit.bind(this);
    this.handleChange = this.handleChange.bind(this);
  }
  handleSubmit() {
    const itemsArray = this.state.userInput.split(',');
    this.setState({
      toDoList: itemsArray
    });
  }
  handleChange(e) {
    this.setState({
      userInput: e.target.value
    });
  }
  render() {
    const items = this.state.toDoList.map(i => <li>{i}</li>); // Change this line
    return (
      <div>
        <textarea
          onChange={this.handleChange}
          value={this.state.userInput}
          style={textAreaStyles}
          placeholder='Separate Items With Commas'
        />
        <br />
        <button onClick={this.handleSubmit}>Create List</button>
        <h1>My "To Do" List:</h1>
        <ul>{items}</ul>
      </div>
    );
  }
}
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-44a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-use-array-map-to-dynamically-render-elements/301417)

-----



## 45. Donner aux éléments de même parent un attribut clé unique

[Learn React: Give Sibling Elements a Unique Key Attribute | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/give-sibling-elements-a-unique-key-attribute)

Le dernier défi a montré comment la méthode `map` est utilisée pour rendre dynamiquement un certain nombre d'éléments en fonction des entrées de l'utilisateur. Cependant, il manquait un élément important à cet exemple. Lorsque vous créez un tableau d'éléments, chacun a besoin d'un attribut `key` défini sur une valeur unique. React utilise ces clés pour garder une trace des éléments ajoutés, modifiés ou supprimés. Cela permet de rendre le processus de rendu plus efficace lorsque la liste est modifiée de quelque manière que ce soit.<br />
**Remarque :** les clés ne doivent être uniques qu'entre les éléments frères, elles n'ont pas besoin d'être globalement uniques dans votre application.

:::info instructions
L'éditeur de code a un tableau avec des frameworks frontaux et un composant fonctionnel sans état nommé `Frameworks()`. `Frameworks()` doit mapper le tableau sur une liste non ordonnée, un peu comme dans le dernier défi. Terminez d'écrire le rappel `map` pour renvoyer un élément `li` pour chaque structure du tableau `frontEndFrameworks`. Cette fois, assurez-vous de donner à chaque `li` un attribut `key`, défini sur une valeur unique. Les éléments `li` doivent également contenir du texte de `frontEndFrameworks`.<br />
Normalement, vous voulez faire de la clé quelque chose qui identifie de manière unique l'élément en cours de rendu. En dernier recours, l'index du tableau peut être utilisé, mais vous devriez généralement essayer d'utiliser une identification unique.
:::

:::tip missions
- Le composant `Frameworks` doit exister et être rendu sur la page.
- `Frameworks` doivent rendre un élément `h1`.
- `Frameworks` doivent rendre un élément `ul`.
- La balise `ul` doit rendre 6 éléments `li` enfants.
- Chaque élément d'élément de liste doit avoir un attribut `key` unique.
- Chaque élément d'élément de liste doit contenir du texte de `frontEndFrameworks`.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
const frontEndFrameworks = [
  'React',
  'Angular',
  'Ember',
  'Knockout',
  'Backbone',
  'Vue'
];

function Frameworks() {
  const renderFrameworks = frontEndFrameworks.map(i => <li key={i+1}>{i}</li>); // Change this line
  return (
    <div>
      <h1>Popular Front End JavaScript Frameworks</h1>
      <ul>
        {renderFrameworks}
      </ul>
    </div>
  );
};
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-45a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-give-sibling-elements-a-unique-key-attribute/301394)

-----



## 46. Utilisez `Array.filter()` pour filtrer dynamiquement un tableau

[Learn React: Use Array.filter() to Dynamically Filter an Array | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/use-array-filter-to-dynamically-filter-an-array)

La méthode de tableau `map` est un outil puissant que vous utiliserez souvent lorsque vous travaillerez avec React. Une autre méthode liée à `map` est `filter`, qui filtre le contenu d'un tableau en fonction d'une condition, puis renvoie un nouveau tableau. Par exemple, si vous avez un tableau d'utilisateurs qui ont tous une propriété `online` qui peut être définie sur `true` ou `false`, vous pouvez filtrer uniquement les utilisateurs en ligne en écrivant :

`let onlineUsers = users.filter(user => user.online);`

:::info instructions
Dans l'éditeur de code, le `state` de `MyComponent` est initialisé avec un tableau d'utilisateurs. Certains utilisateurs sont en ligne et d'autres non. Filtrez le tableau pour ne voir que les utilisateurs en ligne. Pour ce faire, utilisez d'abord `filter` pour renvoyer un nouveau tableau contenant uniquement les utilisateurs dont la propriété `online` est `true`. Ensuite, dans la variable `renderOnline`, mappez sur le tableau filtré et renvoyez un élément `li` pour chaque utilisateur qui contient le texte de son `username`. Assurez-vous également d'inclure une `key` unique, comme dans les derniers défis.
:::

:::tip missions
- `MyComponent` doit exister et s'afficher sur la page.
- L'état de `MyComponent` doit être initialisé à un tableau de six utilisateurs.
- `MyComponent` doit retourner un `div`, un `h1`, puis une liste non ordonnée contenant des éléments `li` pour chaque utilisateur dont le status en ligne est défini sur `true`.
- `MyComponent` doit rendre les éléments `li` qui contiennent le nom d'utilisateur de chaque utilisateur en ligne.
- Chaque élément de liste doit avoir un attribut `key` unique.
:::

<nav class="code-col">
<div class="code-col__item63">

```jsx title="jsx"
class MyComponent extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      users: [
        {
          username: 'Jeff',
          online: true
        },
        {
          username: 'Alan',
          online: false
        },
        {
          username: 'Mary',
          online: true
        },
        {
          username: 'Jim',
          online: false
        },
        {
          username: 'Sara',
          online: true
        },
        {
          username: 'Laura',
          online: true
        }
      ]
    };
  }
  render() {
    const usersOnline = this.state.users.filter(i => i.online == true); // Change this line
    const renderOnline = usersOnline.map((i) => <li key={i.username + 1}>{i.username}</li>); // Change this line
    return (
      <div>
        <h1>Current Online Users:</h1>
        <ul>{renderOnline}</ul>
      </div>
    );
  }
}
```

</div>
<div class="code-col__item35-html">

<iframe width="100%" height="100%" src="HTML-Demo_embed/freeCodeCamp-React-46a.html"></iframe>

</div></nav>

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-use-array-filter-to-dynamically-filter-an-array/301416)

-----



## 47. Rendre React sur le serveur avec `renderToString`

[Learn React: Render React on the Server with renderToString | freeCodeCamp.org](https://www.freecodecamp.org/learn/front-end-libraries/react/render-react-on-the-server-with-rendertostring)

Jusqu'à présent, vous avez rendu des composants React sur le client. Normalement, c'est ce que vous ferez toujours. Cependant, dans certains cas d'utilisation, il est judicieux de rendre un composant React sur le serveur. Puisque React est une bibliothèque de vues JavaScript et que vous pouvez exécuter JavaScript sur le serveur avec Node, cela est possible. En fait, React fournit une méthode `renderToString()` que vous pouvez utiliser à cette fin.<br />
Il existe deux raisons principales pour lesquelles le rendu sur le serveur peut être utilisé dans une application du monde réel. Premièrement, sans cela, vos applications React se composent d'un fichier HTML relativement vide et d'un grand ensemble de JavaScript lors du chargement initial dans le navigateur. Cela peut ne pas être idéal pour les moteurs de recherche qui essaient d'indexer le contenu de vos pages afin que les gens puissent vous trouver. Si vous affichez le balisage HTML initial sur le serveur et que vous l'envoyez au client, le chargement initial de la page contient tout le balisage de la page qui peut être analysé par les moteurs de recherche. Deuxièmement, cela crée une expérience de chargement de page initiale plus rapide car le HTML rendu est plus petit que le code JavaScript de l'application entière. React pourra toujours reconnaître votre application et la gérer après le chargement initial.

:::info instructions
La méthode `renderToString()` est fournie sur `ReactDOMServer`, qui est disponible ici en tant qu'objet global. La méthode prend un argument qui est un élément React. Utilisez ceci pour rendre `App` en une chaîne.
:::

:::tip missions
Le composant `App` doit être rendu en une chaîne à l'aide de `ReactDOMServer.renderToString`.
:::

```jsx title="jsx"
class App extends React.Component {
  constructor(props) {
    super(props);
  }
  render() {
    return <div/>
  }
};

// Change code below this line
ReactDOMServer.renderToString(<App />)
```

[solutions](https://forum.freecodecamp.org/t/freecodecamp-challenge-guide-render-react-on-the-server-with-rendertostring/301407)
